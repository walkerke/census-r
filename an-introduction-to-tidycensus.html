<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 2 An introduction to tidycensus | Analyzing US Census Data</title>
<meta name="author" content="Kyle E. Walker">
<meta name="description" content="The tidycensus package (K. Walker and Herman 2021), first released in 2017, is an R package designed to facilitate the process of acquiring and working with US Census Bureau population data in the...">
<meta name="generator" content="bookdown 0.22.17 with bs4_book()">
<meta property="og:title" content="Chapter 2 An introduction to tidycensus | Analyzing US Census Data">
<meta property="og:type" content="book">
<meta property="og:url" content="https://walker-data.com/census-r/an-introduction-to-tidycensus.html">
<meta property="og:image" content="https://walker-data.com/census-r/04-visualizing-census-data_files/figure-html/visualize-error-bars-1.png">
<meta property="og:description" content="The tidycensus package (K. Walker and Herman 2021), first released in 2017, is an R package designed to facilitate the process of acquiring and working with US Census Bureau population data in the...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 2 An introduction to tidycensus | Analyzing US Census Data">
<meta name="twitter:description" content="The tidycensus package (K. Walker and Herman 2021), first released in 2017, is an R package designed to facilitate the process of acquiring and working with US Census Bureau population data in the...">
<meta name="twitter:image" content="https://walker-data.com/census-r/04-visualizing-census-data_files/figure-html/visualize-error-bars-1.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.10.5/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.0/transition.js"></script><script src="libs/bs3compat-0.3.0/tabs.js"></script><script src="libs/bs3compat-0.3.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script><script src="libs/plotly-binding-4.9.3/plotly.js"></script><script src="libs/typedarray-0.1/typedarray.min.js"></script><link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet">
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script><link href="libs/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="libs/plotly-main-1.57.1/plotly-latest.min.js"></script><script src="libs/d3-bundle-5.16.0/d3-bundle.min.js"></script><script src="libs/d3-lasso-0.0.5/d3-lasso.min.js"></script><script src="libs/save-svg-as-png-1.4.17/save-svg-as-png.min.js"></script><link href="libs/ggiraphjs-0.4.1/ggiraphjs.min.css" rel="stylesheet">
<script src="libs/ggiraphjs-0.4.1/ggiraphjs.min.js"></script><script src="libs/girafe-binding-0.7.10/girafe.js"></script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-6KFYZ3W36Z"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-6KFYZ3W36Z');
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS -->
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="Methods, Maps, and Models in R">Analyzing US Census Data</a>:
        <small class="text-muted">Methods, Maps, and Models in R</small>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Preface</a></li>
<li><a class="" href="the-united-states-census-and-the-r-programming-language.html"><span class="header-section-number">1</span> The United States Census and the R programming language</a></li>
<li><a class="active" href="an-introduction-to-tidycensus.html"><span class="header-section-number">2</span> An introduction to tidycensus</a></li>
<li><a class="" href="wrangling-census-data-with-tidyverse-tools.html"><span class="header-section-number">3</span> Wrangling Census data with tidyverse tools</a></li>
<li><a class="" href="exploring-us-census-data-with-visualization.html"><span class="header-section-number">4</span> Exploring US Census data with visualization</a></li>
<li><a class="" href="census-geographic-data-and-applications-in-r.html"><span class="header-section-number">5</span> Census geographic data and applications in R</a></li>
<li><a class="" href="mapping-census-data-with-r.html"><span class="header-section-number">6</span> Mapping Census data with R</a></li>
<li><a class="" href="spatial-analysis-with-us-census-data.html"><span class="header-section-number">7</span> Spatial analysis with US Census data</a></li>
<li><a class="" href="modeling-us-census-data.html"><span class="header-section-number">8</span> Modeling US Census data</a></li>
<li><a class="" href="introduction-to-census-microdata.html"><span class="header-section-number">9</span> Introduction to Census microdata</a></li>
<li><a class="" href="analyzing-census-microdata.html"><span class="header-section-number">10</span> Analyzing Census microdata</a></li>
<li><a class="" href="other-census-and-government-data-resources.html"><span class="header-section-number">11</span> Other Census and government data resources</a></li>
<li><a class="" href="working-with-census-data-outside-the-united-states.html"><span class="header-section-number">12</span> Working with Census data outside the United States</a></li>
<li><a class="" href="conclusion.html">Conclusion</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="an-introduction-to-tidycensus" class="section level1" number="2">
<h1>
<span class="header-section-number">2</span> An introduction to tidycensus<a class="anchor" aria-label="anchor" href="#an-introduction-to-tidycensus"><i class="fas fa-link"></i></a>
</h1>
<p>The <strong>tidycensus</strong> package <span class="citation">(<a href="references.html#ref-walker_and_herman2021" role="doc-biblioref">K. Walker and Herman 2021</a>)</span>, first released in 2017, is an R package designed to facilitate the process of acquiring and working with US Census Bureau population data in the R environment. The package has two distinct goals. First, <strong>tidycensus</strong> aims to make Census data available to R users in a <strong>tidyverse</strong>-friendly format, helping kick-start the process of generating insights from US Census data. Second, the package is designed to streamline the data wrangling process for spatial Census data analysts. With <strong>tidycensus</strong>, R users can request <em>geometry</em> along with attributes for their Census data, helping facilitate mapping and spatial analysis. This functionality of <strong>tidycensus</strong> is covered in more depth in Chapters <a href="mapping-census-data-with-r.html#mapping-census-data-with-r">6</a>, <a href="spatial-analysis-with-us-census-data.html#spatial-analysis-with-us-census-data">7</a>, and <a href="modeling-us-census-data.html#modeling-us-census-data">8</a>.</p>
<p>As discussed in the previous chapter, the US Census Bureau makes a wide range of datasets available to the user community through their APIs and other data download resources. <strong>tidycensus</strong> is not a comprehensive portal to these data resources; instead, it focuses on a select number of datasets implemented in a series of core functions. These core functions in <strong>tidycensus</strong> include:</p>
<ul>
<li><p><code><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial()</a></code>, which requests data from the US Decennial Census APIs for 2000 and 2010. When 2020 Census data are released via the API, R users will be able to access it with this function as well.</p></li>
<li><p><code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code>, which requests data from the 1-year and 5-year American Community Survey samples. Data are available from the 1-year ACS back to 2005 and the 5-year ACS back to 2005-2009.</p></li>
<li><p><code><a href="https://walker-data.com/tidycensus/reference/get_estimates.html">get_estimates()</a></code>, an interface to the Population Estimates APIs. These datasets include yearly estimates of population characteristics by state, county, and metropolitan area, along with components of change demographic estimates like births, deaths, and migration rates.</p></li>
<li><p><code><a href="https://walker-data.com/tidycensus/reference/get_pums.html">get_pums()</a></code>, which accesses data from the ACS Public Use Microdata Sample APIs. These samples include anonymized individual-level records from the ACS organized by household and are highly useful for many different social science analyses. <code><a href="https://walker-data.com/tidycensus/reference/get_pums.html">get_pums()</a></code> is covered in more depth in Chapters <a href="introduction-to-census-microdata.html#introduction-to-census-microdata">9</a> and <a href="analyzing-census-microdata.html#analyzing-census-microdata">10</a>.</p></li>
<li><p><code><a href="https://walker-data.com/tidycensus/reference/get_flows.html">get_flows()</a></code>, an interface to the ACS Migration Flows APIs. Includes information on in- and out-flows from various geographies for the 5-year ACS samples, enabling origin-destination analyses.</p></li>
</ul>
<div id="getting-started-with-tidycensus" class="section level2" number="2.1">
<h2>
<span class="header-section-number">2.1</span> Getting started with tidycensus<a class="anchor" aria-label="anchor" href="#getting-started-with-tidycensus"><i class="fas fa-link"></i></a>
</h2>
<p>To get started with <strong>tidycensus</strong>, users should install the package with <code><a href="https://rdrr.io/r/utils/install.packages.html">install.packages("tidycensus")</a></code> if not yet installed; load the package with <code><a href="https://walker-data.com/tidycensus/">library("tidycensus")</a></code>; and set their Census API key with the <code><a href="https://walker-data.com/tidycensus/reference/census_api_key.html">census_api_key()</a></code> function. API keys can be obtained at <a href="https://api.census.gov/data/key_signup.html" class="uri">https://api.census.gov/data/key_signup.html</a>. After you’ve signed up for an API key, be sure to activate the key from the email you receive from the Census Bureau so it works correctly. Declaring <code>install = TRUE</code> when calling <code><a href="https://walker-data.com/tidycensus/reference/census_api_key.html">census_api_key()</a></code> will install the key for use in future R sessions, which may be convenient for many users.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://walker-data.com/tidycensus/">tidycensus</a></span><span class="op">)</span>
<span class="co"># census_api_key("YOUR KEY GOES HERE", install = TRUE)</span></code></pre></div>
<div id="decennial-census" class="section level3" number="2.1.1">
<h3>
<span class="header-section-number">2.1.1</span> Decennial Census<a class="anchor" aria-label="anchor" href="#decennial-census"><i class="fas fa-link"></i></a>
</h3>
<p>Once an API key is installed, users can obtain decennial Census or ACS data with a single function call. Let’s start with <code><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial()</a></code>, which is used to access decennial Census data from the 2000, 2010, and 2020 decennial US Censuses.</p>
<p>To get data from the decennial US Census, users must specify a string representing the requested <code>geography</code>; a vector of Census variable IDs, represented by <code>variable</code>; or optionally a Census table ID, passed to <code>table</code>. The code below gets data on total population by state from the 2010 decennial Census.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">total_population_10</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial</a></span><span class="op">(</span>
  geography <span class="op">=</span> <span class="st">"state"</span>, 
  variables <span class="op">=</span> <span class="st">"P001001"</span>,
  year <span class="op">=</span> <span class="fl">2010</span>
<span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:total-population-10-show">Table 2.1: </span>Total population by state, 2010 Census
</caption>
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
GEOID
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
NAME
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
variable
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
value
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
01
</td>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:left;">
P001001
</td>
<td style="text-align:right;">
4779736
</td>
</tr>
<tr>
<td style="text-align:left;">
02
</td>
<td style="text-align:left;">
Alaska
</td>
<td style="text-align:left;">
P001001
</td>
<td style="text-align:right;">
710231
</td>
</tr>
<tr>
<td style="text-align:left;">
04
</td>
<td style="text-align:left;">
Arizona
</td>
<td style="text-align:left;">
P001001
</td>
<td style="text-align:right;">
6392017
</td>
</tr>
<tr>
<td style="text-align:left;">
05
</td>
<td style="text-align:left;">
Arkansas
</td>
<td style="text-align:left;">
P001001
</td>
<td style="text-align:right;">
2915918
</td>
</tr>
<tr>
<td style="text-align:left;">
06
</td>
<td style="text-align:left;">
California
</td>
<td style="text-align:left;">
P001001
</td>
<td style="text-align:right;">
37253956
</td>
</tr>
<tr>
<td style="text-align:left;">
22
</td>
<td style="text-align:left;">
Louisiana
</td>
<td style="text-align:left;">
P001001
</td>
<td style="text-align:right;">
4533372
</td>
</tr>
<tr>
<td style="text-align:left;">
21
</td>
<td style="text-align:left;">
Kentucky
</td>
<td style="text-align:left;">
P001001
</td>
<td style="text-align:right;">
4339367
</td>
</tr>
<tr>
<td style="text-align:left;">
08
</td>
<td style="text-align:left;">
Colorado
</td>
<td style="text-align:left;">
P001001
</td>
<td style="text-align:right;">
5029196
</td>
</tr>
<tr>
<td style="text-align:left;">
09
</td>
<td style="text-align:left;">
Connecticut
</td>
<td style="text-align:left;">
P001001
</td>
<td style="text-align:right;">
3574097
</td>
</tr>
<tr>
<td style="text-align:left;">
10
</td>
<td style="text-align:left;">
Delaware
</td>
<td style="text-align:left;">
P001001
</td>
<td style="text-align:right;">
897934
</td>
</tr>
</tbody>
</table></div>
<p>The function returns a tibble of data from the 2010 US Census (the function default year) with information on total population by state, and assigns it to the object <code>total_population_10</code>. Data for 2000 or 2020 can also be obtained by supplying the appropriate year to the <code>year</code> parameter.</p>
<div id="summary-files-in-the-decennial-census" class="section level4" number="2.1.1.1">
<h4>
<span class="header-section-number">2.1.1.1</span> Summary files in the decennial Census<a class="anchor" aria-label="anchor" href="#summary-files-in-the-decennial-census"><i class="fas fa-link"></i></a>
</h4>
<p>By default, <code><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial()</a></code> uses the argument <code>sumfile = "sf1"</code>, which fetches data from the decennial Census Summary File 1. This summary file exists for the 2000 and 2010 decennial US Censuses, and includes core demographic characteristics for Census geographies. The 2000 and 2010 decennial Census data also include Summary File 2, which contains information on a range of population and housing unit characteristics and is specified as <code>"sf2"</code>. Detailed demographic information in the 2000 decennial Census such as income and occupation can be found in Summary Files 3 (<code>"sf3"</code>) and 4 (<code>"sf4"</code>). Data from the 2000 and 2010 Decennial Censuses for island territories other than Puerto Rico must be accessed at their corresponding summary files: <code>"as"</code> for American Samoa, <code>"mp"</code> for the Northern Mariana Islands, <code>"gu"</code> for Guam, and <code>"vi"</code> for the US Virgin Islands.</p>
<p>2020 Decennial Census data are available from the PL-94171 Redistricting Summary File, which is specified with <code>sumfile = "pl"</code> and is also available for 2010. The Redistricting summary files include a limited subset of variables from the decennial US Census to be used for legislative redistricting. These variables include total population and housing units; race and ethnicity; voting-age population; and group quarters population. For example, the code below retrieves information on the American Indian &amp; Alaska Native population by state from the 2020 decennial Census.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">aian_2020</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial</a></span><span class="op">(</span>
  geography <span class="op">=</span> <span class="st">"state"</span>,
  variables <span class="op">=</span> <span class="st">"P1_005N"</span>,
  year <span class="op">=</span> <span class="fl">2020</span>,
  sumfile <span class="op">=</span> <span class="st">"pl"</span>
<span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:census-2020-aian-show">Table 2.2: </span>American Indian or Alaska Native alone population by state from the 2020 decennial Census
</caption>
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
GEOID
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
NAME
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
variable
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
value
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
01
</td>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:left;">
P1_005N
</td>
<td style="text-align:right;">
33625
</td>
</tr>
<tr>
<td style="text-align:left;">
02
</td>
<td style="text-align:left;">
Alaska
</td>
<td style="text-align:left;">
P1_005N
</td>
<td style="text-align:right;">
111575
</td>
</tr>
<tr>
<td style="text-align:left;">
04
</td>
<td style="text-align:left;">
Arizona
</td>
<td style="text-align:left;">
P1_005N
</td>
<td style="text-align:right;">
319512
</td>
</tr>
<tr>
<td style="text-align:left;">
05
</td>
<td style="text-align:left;">
Arkansas
</td>
<td style="text-align:left;">
P1_005N
</td>
<td style="text-align:right;">
27177
</td>
</tr>
<tr>
<td style="text-align:left;">
06
</td>
<td style="text-align:left;">
California
</td>
<td style="text-align:left;">
P1_005N
</td>
<td style="text-align:right;">
631016
</td>
</tr>
<tr>
<td style="text-align:left;">
08
</td>
<td style="text-align:left;">
Colorado
</td>
<td style="text-align:left;">
P1_005N
</td>
<td style="text-align:right;">
74129
</td>
</tr>
</tbody>
</table></div>
<p>The argument <code>sumfile = "pl"</code> is assumed (and in turn not required) when users request data for 2020 and will remain so until the main Demographic and Housing Characteristics File is released in mid-to-late 2022.</p>
<div class="rmdnote">
<p>When users request data from the 2020 decennial Census for the first time in a given R session, <code><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial()</a></code> prints out the following message:</p>
<pre><code>Note: 2020 decennial Census data use differential privacy, a technique that
introduces errors into data to preserve respondent confidentiality.
ℹ Small counts should be interpreted with caution.
ℹ See https://www.census.gov/library/fact-sheets/2021/protecting-the-confidentiality-of-the-2020-census-redistricting-data.html for additional guidance.</code></pre>
<p>This message alerts users that 2020 decennial Census data use <em>differential privacy</em> as a method to preserve confidentiality of individuals who responded to the Census. This can lead to inaccuracies in small area analyses using 2020 Census data and also can make comparisons of small counts across years difficult. A more in-depth discussion of differential privacy and the 2020 Census is found in the conclusion of this book.</p>
</div>
</div>
</div>
<div id="american-community-survey" class="section level3" number="2.1.2">
<h3>
<span class="header-section-number">2.1.2</span> American Community Survey<a class="anchor" aria-label="anchor" href="#american-community-survey"><i class="fas fa-link"></i></a>
</h3>
<p>Similarly, <code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code> retrieves data from the American Community Survey. As discussed in the previous chapter, the ACS includes a wide variety of variables detailing characteristics of the US population not found in the decennial Census. The example below fetches data on the number of residents born in Mexico by state.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">born_in_mexico</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs</a></span><span class="op">(</span>
  geography <span class="op">=</span> <span class="st">"state"</span>, 
  variables <span class="op">=</span> <span class="st">"B05006_150"</span>,
  year <span class="op">=</span> <span class="fl">2019</span>
<span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:acs-5-year-show">Table 2.3: </span>Mexican-born population by state, 2015-2019 5-year ACS
</caption>
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
GEOID
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
NAME
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
variable
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
estimate
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
moe
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
01
</td>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:left;">
B05006_150
</td>
<td style="text-align:right;">
49052
</td>
<td style="text-align:right;">
2202
</td>
</tr>
<tr>
<td style="text-align:left;">
02
</td>
<td style="text-align:left;">
Alaska
</td>
<td style="text-align:left;">
B05006_150
</td>
<td style="text-align:right;">
4528
</td>
<td style="text-align:right;">
798
</td>
</tr>
<tr>
<td style="text-align:left;">
04
</td>
<td style="text-align:left;">
Arizona
</td>
<td style="text-align:left;">
B05006_150
</td>
<td style="text-align:right;">
511861
</td>
<td style="text-align:right;">
7420
</td>
</tr>
<tr>
<td style="text-align:left;">
05
</td>
<td style="text-align:left;">
Arkansas
</td>
<td style="text-align:left;">
B05006_150
</td>
<td style="text-align:right;">
59271
</td>
<td style="text-align:right;">
2101
</td>
</tr>
<tr>
<td style="text-align:left;">
06
</td>
<td style="text-align:left;">
California
</td>
<td style="text-align:left;">
B05006_150
</td>
<td style="text-align:right;">
4076121
</td>
<td style="text-align:right;">
23048
</td>
</tr>
<tr>
<td style="text-align:left;">
08
</td>
<td style="text-align:left;">
Colorado
</td>
<td style="text-align:left;">
B05006_150
</td>
<td style="text-align:right;">
225372
</td>
<td style="text-align:right;">
4757
</td>
</tr>
<tr>
<td style="text-align:left;">
09
</td>
<td style="text-align:left;">
Connecticut
</td>
<td style="text-align:left;">
B05006_150
</td>
<td style="text-align:right;">
27399
</td>
<td style="text-align:right;">
2056
</td>
</tr>
<tr>
<td style="text-align:left;">
10
</td>
<td style="text-align:left;">
Delaware
</td>
<td style="text-align:left;">
B05006_150
</td>
<td style="text-align:right;">
16663
</td>
<td style="text-align:right;">
1145
</td>
</tr>
<tr>
<td style="text-align:left;">
11
</td>
<td style="text-align:left;">
District of Columbia
</td>
<td style="text-align:left;">
B05006_150
</td>
<td style="text-align:right;">
4022
</td>
<td style="text-align:right;">
856
</td>
</tr>
<tr>
<td style="text-align:left;">
12
</td>
<td style="text-align:left;">
Florida
</td>
<td style="text-align:left;">
B05006_150
</td>
<td style="text-align:right;">
266547
</td>
<td style="text-align:right;">
6349
</td>
</tr>
</tbody>
</table></div>
<p>If the year is not specified, <code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code> defaults to the most recent five-year ACS sample, which at the time of this writing is 2015-2019. The data returned is similar in structure to that returned by <code><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial()</a></code>, but includes an <code>estimate</code> column (for the ACS estimate) and <code>moe</code> column (for the margin of error around that estimate) instead of a <code>value</code> column. Different years and different surveys are available by adjusting the <code>year</code> and <code>survey</code> parameters. <code>survey</code> defaults to the 5-year ACS; however this can be changed to the 1-year ACS by using the argument <code>survey = "acs1"</code>. For example, the following code will fetch data from the 1-year ACS for 2019:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">born_in_mexico_1yr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs</a></span><span class="op">(</span>
  geography <span class="op">=</span> <span class="st">"state"</span>, 
  variables <span class="op">=</span> <span class="st">"B05006_150"</span>, 
  survey <span class="op">=</span> <span class="st">"acs1"</span>,
  year <span class="op">=</span> <span class="fl">2019</span>
<span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:acs-1yr-show">Table 2.4: </span>Mexican-born population by state, 2019 1-year ACS
</caption>
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
GEOID
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
NAME
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
variable
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
estimate
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
moe
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
01
</td>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:left;">
B05006_150
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
02
</td>
<td style="text-align:left;">
Alaska
</td>
<td style="text-align:left;">
B05006_150
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
04
</td>
<td style="text-align:left;">
Arizona
</td>
<td style="text-align:left;">
B05006_150
</td>
<td style="text-align:right;">
516618
</td>
<td style="text-align:right;">
15863
</td>
</tr>
<tr>
<td style="text-align:left;">
05
</td>
<td style="text-align:left;">
Arkansas
</td>
<td style="text-align:left;">
B05006_150
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
06
</td>
<td style="text-align:left;">
California
</td>
<td style="text-align:left;">
B05006_150
</td>
<td style="text-align:right;">
3951224
</td>
<td style="text-align:right;">
40506
</td>
</tr>
<tr>
<td style="text-align:left;">
08
</td>
<td style="text-align:left;">
Colorado
</td>
<td style="text-align:left;">
B05006_150
</td>
<td style="text-align:right;">
209408
</td>
<td style="text-align:right;">
12214
</td>
</tr>
<tr>
<td style="text-align:left;">
09
</td>
<td style="text-align:left;">
Connecticut
</td>
<td style="text-align:left;">
B05006_150
</td>
<td style="text-align:right;">
26371
</td>
<td style="text-align:right;">
4816
</td>
</tr>
<tr>
<td style="text-align:left;">
10
</td>
<td style="text-align:left;">
Delaware
</td>
<td style="text-align:left;">
B05006_150
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
11
</td>
<td style="text-align:left;">
District of Columbia
</td>
<td style="text-align:left;">
B05006_150
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
12
</td>
<td style="text-align:left;">
Florida
</td>
<td style="text-align:left;">
B05006_150
</td>
<td style="text-align:right;">
261614
</td>
<td style="text-align:right;">
17571
</td>
</tr>
</tbody>
</table></div>
<p>Note the differences between the 5-year ACS estimates and the 1-year ACS estimates shown. For states with larger Mexican-born populations like Arizona, California, and Colorado, the 1-year ACS data will represent the most up-to-date estimates, albeit characterized by larger margins of error relative to their estimates. For states with smaller Mexican-born populations like Alabama, Alaska, and Arkansas, however, the estimate returns <code>NA</code>, R’s notation representing missing data. If you encounter this in your data’s <code>estimate</code> column, it will generally mean that the estimate is too small for a given geography to be deemed reliable by the Census Bureau. In this case, only the states with the largest Mexican-born populations have data available for that variable in the 1-year ACS, meaning that the 5-year ACS should be used to make full state-wise comparisons if desired.</p>
<p>Variables from the ACS detailed tables, data profiles, summary tables, and supplemental estimates are available through <strong>tidycensus</strong>’s <code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code> function; the function will auto-detect from which dataset to look for variables based on their names. Alternatively, users can supply a table name to the <code>table</code> parameter in <code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code>; this will return data for every variable in that table. For example, to get all variables associated with table B01001, which covers sex broken down by age, from the 2015-2019 5-year ACS:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">age_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs</a></span><span class="op">(</span>
  geography <span class="op">=</span> <span class="st">"state"</span>, 
  table <span class="op">=</span> <span class="st">"B01001"</span>,
  year <span class="op">=</span> <span class="fl">2019</span>
<span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:state-age-table-show">Table 2.5: </span>Table B01001 by state from the 2015-2019 5-year ACS
</caption>
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
GEOID
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
NAME
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
variable
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
estimate
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
moe
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
01
</td>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:left;">
B01001_001
</td>
<td style="text-align:right;">
4876250
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
01
</td>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:left;">
B01001_002
</td>
<td style="text-align:right;">
2359355
</td>
<td style="text-align:right;">
1270
</td>
</tr>
<tr>
<td style="text-align:left;">
01
</td>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:left;">
B01001_003
</td>
<td style="text-align:right;">
149090
</td>
<td style="text-align:right;">
704
</td>
</tr>
<tr>
<td style="text-align:left;">
01
</td>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:left;">
B01001_004
</td>
<td style="text-align:right;">
153494
</td>
<td style="text-align:right;">
2290
</td>
</tr>
<tr>
<td style="text-align:left;">
01
</td>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:left;">
B01001_005
</td>
<td style="text-align:right;">
158617
</td>
<td style="text-align:right;">
2274
</td>
</tr>
<tr>
<td style="text-align:left;">
01
</td>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:left;">
B01001_006
</td>
<td style="text-align:right;">
98257
</td>
<td style="text-align:right;">
468
</td>
</tr>
<tr>
<td style="text-align:left;">
01
</td>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:left;">
B01001_007
</td>
<td style="text-align:right;">
64980
</td>
<td style="text-align:right;">
834
</td>
</tr>
<tr>
<td style="text-align:left;">
01
</td>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:left;">
B01001_008
</td>
<td style="text-align:right;">
35870
</td>
<td style="text-align:right;">
1436
</td>
</tr>
<tr>
<td style="text-align:left;">
01
</td>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:left;">
B01001_009
</td>
<td style="text-align:right;">
35040
</td>
<td style="text-align:right;">
1472
</td>
</tr>
<tr>
<td style="text-align:left;">
01
</td>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:left;">
B01001_010
</td>
<td style="text-align:right;">
95065
</td>
<td style="text-align:right;">
1916
</td>
</tr>
</tbody>
</table></div>
<p>To find all of the variables associated with a given ACS table, <strong>tidycensus</strong> downloads a dataset of variables from the Census Bureau website and looks up the variable codes for download. If the <code>cache_table</code> parameter is set to <code>TRUE</code>, the function instructs <strong>tidycensus</strong> to cache this dataset on the user’s computer for faster future access. This only needs to be done once per ACS or Census dataset if the user would like to specify this option.</p>
</div>
</div>
<div id="geography-and-variables-in-tidycensus" class="section level2" number="2.2">
<h2>
<span class="header-section-number">2.2</span> Geography and variables in tidycensus<a class="anchor" aria-label="anchor" href="#geography-and-variables-in-tidycensus"><i class="fas fa-link"></i></a>
</h2>
<p>The <code>geography</code> parameter in <code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code> and <code><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial()</a></code> allows users to request data aggregated to common Census enumeration units. At the time of this writing, <strong>tidycensus</strong> accepts enumeration units nested within states and/or counties, when applicable. Census blocks are available in <code><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial()</a></code> but not in <code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code> as block-level data are not available from the American Community Survey. To request data within states and/or counties, state and county names can be supplied to the <code>state</code> and <code>county</code> parameters, respectively. Arguments should be formatted in the way that they are accepted by the US Census Bureau API, specified in the table below. If an “Available by” geography is in bold, that argument is required for that geography.</p>
<p>The only geographies available in 2000 are <code>"state"</code>, <code>"county"</code>, <code>"county subdivision"</code>, <code>"tract"</code>, <code>"block group"</code>, and <code>"place"</code>. Some geographies available from the Census API are not available in tidycensus at the moment as they require more complex hierarchy specification than the package supports, and not all variables are available at every geography.</p>
<div class="inline-table"><table class="table table-sm">
<colgroup>
<col width="33%">
<col width="32%">
<col width="9%">
<col width="25%">
</colgroup>
<thead><tr class="header">
<th>Geography</th>
<th>Definition</th>
<th>Available by</th>
<th>Available in</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>"us"</code></td>
<td>United States</td>
<td></td>
<td>
<code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code>, <code><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial()</a></code>, <code><a href="https://walker-data.com/tidycensus/reference/get_estimates.html">get_estimates()</a></code>
</td>
</tr>
<tr class="even">
<td><code>"region"</code></td>
<td>Census region</td>
<td></td>
<td>
<code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code>, <code><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial()</a></code>, <code><a href="https://walker-data.com/tidycensus/reference/get_estimates.html">get_estimates()</a></code>
</td>
</tr>
<tr class="odd">
<td><code>"division"</code></td>
<td>Census division</td>
<td></td>
<td>
<code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code>, <code><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial()</a></code>, <code><a href="https://walker-data.com/tidycensus/reference/get_estimates.html">get_estimates()</a></code>
</td>
</tr>
<tr class="even">
<td><code>"state"</code></td>
<td>State or equivalent</td>
<td>state</td>
<td>
<code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code>, <code><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial()</a></code>, <code><a href="https://walker-data.com/tidycensus/reference/get_estimates.html">get_estimates()</a></code>, <code><a href="https://walker-data.com/tidycensus/reference/get_flows.html">get_flows()</a></code>
</td>
</tr>
<tr class="odd">
<td><code>"county"</code></td>
<td>County or equivalent</td>
<td>state, county</td>
<td>
<code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code>, <code><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial()</a></code>, <code><a href="https://walker-data.com/tidycensus/reference/get_estimates.html">get_estimates()</a></code>, <code><a href="https://walker-data.com/tidycensus/reference/get_flows.html">get_flows()</a></code>
</td>
</tr>
<tr class="even">
<td><code>"county subdivision"</code></td>
<td>County subdivision</td>
<td>
<strong>state</strong>, county</td>
<td>
<code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code>, <code><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial()</a></code>, <code><a href="https://walker-data.com/tidycensus/reference/get_estimates.html">get_estimates()</a></code>, <code><a href="https://walker-data.com/tidycensus/reference/get_flows.html">get_flows()</a></code>
</td>
</tr>
<tr class="odd">
<td><code>"tract"</code></td>
<td>Census tract</td>
<td>
<strong>state</strong>, county</td>
<td>
<code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code>, <code><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial()</a></code>
</td>
</tr>
<tr class="even">
<td><code>"block group"</code></td>
<td>Census block group</td>
<td>
<strong>state</strong>, county</td>
<td>
<code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code> (2013-), <code><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial()</a></code>
</td>
</tr>
<tr class="odd">
<td><code>"block"</code></td>
<td>Census block</td>
<td>
<strong>state</strong>, <strong>county</strong>
</td>
<td><code><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial()</a></code></td>
</tr>
<tr class="even">
<td><code>"place"</code></td>
<td>Census-designated place</td>
<td>state</td>
<td>
<code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code>, <code><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial()</a></code>, <code><a href="https://walker-data.com/tidycensus/reference/get_estimates.html">get_estimates()</a></code>
</td>
</tr>
<tr class="odd">
<td><code>"alaska native regional corporation"</code></td>
<td>Alaska native regional corporation</td>
<td>state</td>
<td>
<code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code>, <code><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial()</a></code>
</td>
</tr>
<tr class="even">
<td><code>"american indian area/alaska native area/hawaiian home land"</code></td>
<td>Federal and state-recognized American Indian reservations and Hawaiian home lands</td>
<td>state</td>
<td>
<code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code>, <code><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial()</a></code>
</td>
</tr>
<tr class="odd">
<td><code>"american indian area/alaska native area (reservation or statistical entity only)"</code></td>
<td>Only reservations and statistical entities</td>
<td>state</td>
<td>
<code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code>, <code><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial()</a></code>
</td>
</tr>
<tr class="even">
<td><code>"american indian area (off-reservation trust land only)/hawaiian home land"</code></td>
<td>Only off-reservation trust lands and Hawaiian home lands</td>
<td>state</td>
<td>
<code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code>,</td>
</tr>
<tr class="odd">
<td>
<code>"metropolitan statistical area/micropolitan statistical area"</code> OR <code>"cbsa"</code>
</td>
<td>Core-based statistical area</td>
<td>state</td>
<td>
<code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code>, <code><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial()</a></code>, <code><a href="https://walker-data.com/tidycensus/reference/get_estimates.html">get_estimates()</a></code>, <code><a href="https://walker-data.com/tidycensus/reference/get_flows.html">get_flows()</a></code>
</td>
</tr>
<tr class="even">
<td><code>"combined statistical area"</code></td>
<td>Combined statistical area</td>
<td>state</td>
<td>
<code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code>, <code><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial()</a></code>, <code><a href="https://walker-data.com/tidycensus/reference/get_estimates.html">get_estimates()</a></code>
</td>
</tr>
<tr class="odd">
<td><code>"new england city and town area"</code></td>
<td>New England city/town area</td>
<td>state</td>
<td>
<code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code>, <code><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial()</a></code>
</td>
</tr>
<tr class="even">
<td><code>"combined new england city and town area"</code></td>
<td>Combined New England area</td>
<td>state</td>
<td>
<code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code>, <code><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial()</a></code>
</td>
</tr>
<tr class="odd">
<td><code>"urban area"</code></td>
<td>Census-defined urbanized areas</td>
<td></td>
<td>
<code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code>, <code><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial()</a></code>
</td>
</tr>
<tr class="even">
<td><code>"congressional district"</code></td>
<td>Congressional district for the year-appropriate Congress</td>
<td>state</td>
<td>
<code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code>, <code><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial()</a></code>
</td>
</tr>
<tr class="odd">
<td><code>"school district (elementary)"</code></td>
<td>Elementary school district</td>
<td><strong>state</strong></td>
<td>
<code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code>, <code><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial()</a></code>
</td>
</tr>
<tr class="even">
<td><code>"school district (secondary)"</code></td>
<td>Secondary school district</td>
<td><strong>state</strong></td>
<td>
<code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code>, <code><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial()</a></code>
</td>
</tr>
<tr class="odd">
<td><code>"school district (unified)"</code></td>
<td>Unified school district</td>
<td><strong>state</strong></td>
<td>
<code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code>, <code><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial()</a></code>
</td>
</tr>
<tr class="even">
<td><code>"public use microdata area"</code></td>
<td>PUMA (geography associated with Census microdata samples)</td>
<td>state</td>
<td><code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code></td>
</tr>
<tr class="odd">
<td>
<code>"zip code tabulation area"</code> OR <code>"zcta"</code>
</td>
<td>Zip code tabulation area</td>
<td>state</td>
<td>
<code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code>, <code><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial()</a></code>
</td>
</tr>
<tr class="even">
<td><code>"state legislative district (upper chamber)"</code></td>
<td>State senate districts</td>
<td><strong>state</strong></td>
<td>
<code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code>, <code><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial()</a></code>
</td>
</tr>
<tr class="odd">
<td><code>"state legislative district (lower chamber)"</code></td>
<td>State house districts</td>
<td><strong>state</strong></td>
<td>
<code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code>, <code><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial()</a></code>
</td>
</tr>
<tr class="even">
<td><code>"voting district"</code></td>
<td>Voting districts (2020 only)</td>
<td><strong>state</strong></td>
<td><code><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial()</a></code></td>
</tr>
</tbody>
</table></div>
<p>The geography parameter must be typed exactly as specified in the table above to request data correctly from the Census API; use the guide above as a reference and copy-paste for longer strings. For core-based statistical areas and zip code tabulation areas, two heavily-requested geographies, the aliases <code>"cbsa"</code> and <code>"zcta"</code> can be used, respectively, to fetch data for those geographies.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cbsa_population</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs</a></span><span class="op">(</span>
  geography <span class="op">=</span> <span class="st">"cbsa"</span>,
  variables <span class="op">=</span> <span class="st">"B01003_001"</span>,
  year <span class="op">=</span> <span class="fl">2019</span>
<span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:cbsa-alias-show">Table 2.6: </span>Population by CBSA
</caption>
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
GEOID
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
NAME
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
variable
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
estimate
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
moe
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
10100
</td>
<td style="text-align:left;">
Aberdeen, SD Micro Area
</td>
<td style="text-align:left;">
B01003_001
</td>
<td style="text-align:right;">
42824
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
10140
</td>
<td style="text-align:left;">
Aberdeen, WA Micro Area
</td>
<td style="text-align:left;">
B01003_001
</td>
<td style="text-align:right;">
72779
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
10180
</td>
<td style="text-align:left;">
Abilene, TX Metro Area
</td>
<td style="text-align:left;">
B01003_001
</td>
<td style="text-align:right;">
170669
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
10220
</td>
<td style="text-align:left;">
Ada, OK Micro Area
</td>
<td style="text-align:left;">
B01003_001
</td>
<td style="text-align:right;">
38355
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
10300
</td>
<td style="text-align:left;">
Adrian, MI Micro Area
</td>
<td style="text-align:left;">
B01003_001
</td>
<td style="text-align:right;">
98381
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
10380
</td>
<td style="text-align:left;">
Aguadilla-Isabela, PR Metro Area
</td>
<td style="text-align:left;">
B01003_001
</td>
<td style="text-align:right;">
301107
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
10420
</td>
<td style="text-align:left;">
Akron, OH Metro Area
</td>
<td style="text-align:left;">
B01003_001
</td>
<td style="text-align:right;">
703845
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
10460
</td>
<td style="text-align:left;">
Alamogordo, NM Micro Area
</td>
<td style="text-align:left;">
B01003_001
</td>
<td style="text-align:right;">
66137
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
10500
</td>
<td style="text-align:left;">
Albany, GA Metro Area
</td>
<td style="text-align:left;">
B01003_001
</td>
<td style="text-align:right;">
148436
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
10540
</td>
<td style="text-align:left;">
Albany-Lebanon, OR Metro Area
</td>
<td style="text-align:left;">
B01003_001
</td>
<td style="text-align:right;">
125048
</td>
<td style="text-align:right;">
NA
</td>
</tr>
</tbody>
</table></div>
<div id="geographic-subsets" class="section level3" number="2.2.1">
<h3>
<span class="header-section-number">2.2.1</span> Geographic subsets<a class="anchor" aria-label="anchor" href="#geographic-subsets"><i class="fas fa-link"></i></a>
</h3>
<p>For many geographies, <strong>tidycensus</strong> supports more granular requests that are subsetted by state or even by county, if supported by the API. This information is found in the “Available by” column in the guide above. If a geographic subset is in bold, it is required; if not, it is optional.</p>
<p>For example, an analyst might be interested in studying variations in household income in the state of Wisconsin. Although the analyst <em>can</em> request all counties in the United States, this is not necessary for this specific task. In turn, they can use the <code>state</code> parameter to subset the request for a specific state.</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">wi_income</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs</a></span><span class="op">(</span>
  geography <span class="op">=</span> <span class="st">"county"</span>, 
  variables <span class="op">=</span> <span class="st">"B19013_001"</span>, 
  state <span class="op">=</span> <span class="st">"WI"</span>,
  year <span class="op">=</span> <span class="fl">2019</span>
<span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:wi-income-county-show">Table 2.7: </span>Median household income by county in Wisconsin
</caption>
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
GEOID
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
NAME
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
variable
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
estimate
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
moe
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
55001
</td>
<td style="text-align:left;">
Adams County, Wisconsin
</td>
<td style="text-align:left;">
B19013_001
</td>
<td style="text-align:right;">
46369
</td>
<td style="text-align:right;">
1834
</td>
</tr>
<tr>
<td style="text-align:left;">
55003
</td>
<td style="text-align:left;">
Ashland County, Wisconsin
</td>
<td style="text-align:left;">
B19013_001
</td>
<td style="text-align:right;">
42510
</td>
<td style="text-align:right;">
2858
</td>
</tr>
<tr>
<td style="text-align:left;">
55005
</td>
<td style="text-align:left;">
Barron County, Wisconsin
</td>
<td style="text-align:left;">
B19013_001
</td>
<td style="text-align:right;">
52703
</td>
<td style="text-align:right;">
2104
</td>
</tr>
<tr>
<td style="text-align:left;">
55007
</td>
<td style="text-align:left;">
Bayfield County, Wisconsin
</td>
<td style="text-align:left;">
B19013_001
</td>
<td style="text-align:right;">
56096
</td>
<td style="text-align:right;">
1877
</td>
</tr>
<tr>
<td style="text-align:left;">
55009
</td>
<td style="text-align:left;">
Brown County, Wisconsin
</td>
<td style="text-align:left;">
B19013_001
</td>
<td style="text-align:right;">
62340
</td>
<td style="text-align:right;">
1112
</td>
</tr>
<tr>
<td style="text-align:left;">
55011
</td>
<td style="text-align:left;">
Buffalo County, Wisconsin
</td>
<td style="text-align:left;">
B19013_001
</td>
<td style="text-align:right;">
57829
</td>
<td style="text-align:right;">
1873
</td>
</tr>
<tr>
<td style="text-align:left;">
55013
</td>
<td style="text-align:left;">
Burnett County, Wisconsin
</td>
<td style="text-align:left;">
B19013_001
</td>
<td style="text-align:right;">
52672
</td>
<td style="text-align:right;">
1388
</td>
</tr>
<tr>
<td style="text-align:left;">
55015
</td>
<td style="text-align:left;">
Calumet County, Wisconsin
</td>
<td style="text-align:left;">
B19013_001
</td>
<td style="text-align:right;">
75814
</td>
<td style="text-align:right;">
2425
</td>
</tr>
<tr>
<td style="text-align:left;">
55017
</td>
<td style="text-align:left;">
Chippewa County, Wisconsin
</td>
<td style="text-align:left;">
B19013_001
</td>
<td style="text-align:right;">
59742
</td>
<td style="text-align:right;">
1759
</td>
</tr>
<tr>
<td style="text-align:left;">
55019
</td>
<td style="text-align:left;">
Clark County, Wisconsin
</td>
<td style="text-align:left;">
B19013_001
</td>
<td style="text-align:right;">
54012
</td>
<td style="text-align:right;">
1223
</td>
</tr>
</tbody>
</table></div>
<p><strong>tidycensus</strong> accepts state names (e.g. <code>"Wisconsin"</code>), state postal codes (e.g. <code>"WI"</code>), and state FIPS codes (e.g. <code>"55"</code>), so an analyst can use what they are most comfortable with.</p>
<p>Smaller geographies like Census tracts can also be subsetted by county. Given that Census tracts nest neatly within counties (and do not cross county boundaries), we can request all Census tracts for a given county by using the optional <code>county</code> parameter. Dane County, home to Wisconsin’s capital city of Madison, is shown below. Note that the name of the county can be supplied as well as the FIPS code. If a state has two counties with similar names (e.g. “Collin” and “Collingsworth” in Texas) you’ll need to spell out the full county string and type <code>"Collin County"</code>.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dane_income</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs</a></span><span class="op">(</span>
  geography <span class="op">=</span> <span class="st">"tract"</span>, 
  variables <span class="op">=</span> <span class="st">"B19013_001"</span>, 
  state <span class="op">=</span> <span class="st">"WI"</span>, 
  county <span class="op">=</span> <span class="st">"Dane"</span>
<span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:dane-income-show">Table 2.8: </span>Median household income in Dane County by Census tract
</caption>
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
GEOID
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
NAME
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
variable
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
estimate
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
moe
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
55025000100
</td>
<td style="text-align:left;">
Census Tract 1, Dane County, Wisconsin
</td>
<td style="text-align:left;">
B19013_001
</td>
<td style="text-align:right;">
72471
</td>
<td style="text-align:right;">
12984
</td>
</tr>
<tr>
<td style="text-align:left;">
55025000201
</td>
<td style="text-align:left;">
Census Tract 2.01, Dane County, Wisconsin
</td>
<td style="text-align:left;">
B19013_001
</td>
<td style="text-align:right;">
94821
</td>
<td style="text-align:right;">
11860
</td>
</tr>
<tr>
<td style="text-align:left;">
55025000202
</td>
<td style="text-align:left;">
Census Tract 2.02, Dane County, Wisconsin
</td>
<td style="text-align:left;">
B19013_001
</td>
<td style="text-align:right;">
84145
</td>
<td style="text-align:right;">
7021
</td>
</tr>
<tr>
<td style="text-align:left;">
55025000204
</td>
<td style="text-align:left;">
Census Tract 2.04, Dane County, Wisconsin
</td>
<td style="text-align:left;">
B19013_001
</td>
<td style="text-align:right;">
79617
</td>
<td style="text-align:right;">
11823
</td>
</tr>
<tr>
<td style="text-align:left;">
55025000205
</td>
<td style="text-align:left;">
Census Tract 2.05, Dane County, Wisconsin
</td>
<td style="text-align:left;">
B19013_001
</td>
<td style="text-align:right;">
91326
</td>
<td style="text-align:right;">
13453
</td>
</tr>
<tr>
<td style="text-align:left;">
55025000300
</td>
<td style="text-align:left;">
Census Tract 3, Dane County, Wisconsin
</td>
<td style="text-align:left;">
B19013_001
</td>
<td style="text-align:right;">
53778
</td>
<td style="text-align:right;">
7593
</td>
</tr>
<tr>
<td style="text-align:left;">
55025000401
</td>
<td style="text-align:left;">
Census Tract 4.01, Dane County, Wisconsin
</td>
<td style="text-align:left;">
B19013_001
</td>
<td style="text-align:right;">
98178
</td>
<td style="text-align:right;">
7330
</td>
</tr>
<tr>
<td style="text-align:left;">
55025000402
</td>
<td style="text-align:left;">
Census Tract 4.02, Dane County, Wisconsin
</td>
<td style="text-align:left;">
B19013_001
</td>
<td style="text-align:right;">
107440
</td>
<td style="text-align:right;">
6585
</td>
</tr>
<tr>
<td style="text-align:left;">
55025000405
</td>
<td style="text-align:left;">
Census Tract 4.05, Dane County, Wisconsin
</td>
<td style="text-align:left;">
B19013_001
</td>
<td style="text-align:right;">
68911
</td>
<td style="text-align:right;">
4141
</td>
</tr>
<tr>
<td style="text-align:left;">
55025000406
</td>
<td style="text-align:left;">
Census Tract 4.06, Dane County, Wisconsin
</td>
<td style="text-align:left;">
B19013_001
</td>
<td style="text-align:right;">
74489
</td>
<td style="text-align:right;">
10451
</td>
</tr>
</tbody>
</table></div>
<p>With respect to geography and the American Community Survey, users should be aware that whereas the 5-year ACS covers geographies down to the block group, the 1-year ACS only returns data for geographies of population 65,000 and greater. This means that some geographies (e.g. Census tracts) will never be available in the 1-year ACS, and that other geographies such as counties are only partially available. To illustrate this, we can check the number of rows in the object <code>wi_income</code>:</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">wi_income</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 72</code></pre>
<p>There are 72 rows in this dataset, one for each county in Wisconsin. However, if the same data were requested from the 2019 1-year ACS:</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">wi_income_1yr</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs</a></span><span class="op">(</span>
  geography <span class="op">=</span> <span class="st">"county"</span>, 
  variables <span class="op">=</span> <span class="st">"B19013_001"</span>, 
  state <span class="op">=</span> <span class="st">"WI"</span>,
  year <span class="op">=</span> <span class="fl">2019</span>,
  survey <span class="op">=</span> <span class="st">"acs1"</span>
<span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">wi_income_1yr</span><span class="op">)</span></code></pre></div>
<pre><code>## [1] 23</code></pre>
<p>There are only 23 rows in this dataset, representing the 23 counties that meet the “total population of 65,000 or greater” threshold required to be included in the 1-year ACS data.</p>
</div>
</div>
<div id="searching-for-variables-in-tidycensus" class="section level2" number="2.3">
<h2>
<span class="header-section-number">2.3</span> Searching for variables in tidycensus<a class="anchor" aria-label="anchor" href="#searching-for-variables-in-tidycensus"><i class="fas fa-link"></i></a>
</h2>
<p>One additional challenge when searching for Census variables is understanding variable IDs, which are required to fetch data from the Census and ACS APIs. There are thousands of variables available across the different datasets and summary files. To make searching easier for R users, <strong>tidycensus</strong> offers the <code><a href="https://walker-data.com/tidycensus/reference/load_variables.html">load_variables()</a></code> function. This function obtains a dataset of variables from the Census Bureau website and formats it for fast searching, ideally in RStudio.</p>
<p>The function takes two required arguments: <code>year</code>, which takes the year or endyear of the Census dataset or ACS sample, and the dataset name - one of <code>sf1</code>, <code>sf3</code>, <code>pl</code>, <code>acs1</code>, or <code>acs5</code>. For the ACS datasets, append <code>/profile</code> for the Data Profile, and <code>/summary</code> for the Summary Tables. As this function requires processing thousands of variables from the Census Bureau which may take a few moments depending on the user’s internet connection, the user can specify <code>cache = TRUE</code> in the function call to store the data in the user’s cache directory for future access. On subsequent calls of the <code><a href="https://walker-data.com/tidycensus/reference/load_variables.html">load_variables()</a></code> function, <code>cache = TRUE</code> will direct the function to look in the cache directory for the variables rather than the Census website.</p>
<p><code><a href="https://walker-data.com/tidycensus/reference/load_variables.html">load_variables()</a></code> works as follows:</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">v16</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://walker-data.com/tidycensus/reference/load_variables.html">load_variables</a></span><span class="op">(</span><span class="fl">2016</span>, <span class="st">"acs5"</span>, cache <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:v16-show">Table 2.9: </span>Variables in the 2012-2016 5-year ACS
</caption>
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
name
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
label
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
concept
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
B00001_001
</td>
<td style="text-align:left;">
Estimate!!Total
</td>
<td style="text-align:left;">
UNWEIGHTED SAMPLE COUNT OF THE POPULATION
</td>
</tr>
<tr>
<td style="text-align:left;">
B00002_001
</td>
<td style="text-align:left;">
Estimate!!Total
</td>
<td style="text-align:left;">
UNWEIGHTED SAMPLE HOUSING UNITS
</td>
</tr>
<tr>
<td style="text-align:left;">
B01001_001
</td>
<td style="text-align:left;">
Estimate!!Total
</td>
<td style="text-align:left;">
SEX BY AGE
</td>
</tr>
<tr>
<td style="text-align:left;">
B01001_002
</td>
<td style="text-align:left;">
Estimate!!Total!!Male
</td>
<td style="text-align:left;">
SEX BY AGE
</td>
</tr>
<tr>
<td style="text-align:left;">
B01001_003
</td>
<td style="text-align:left;">
Estimate!!Total!!Male!!Under 5 years
</td>
<td style="text-align:left;">
SEX BY AGE
</td>
</tr>
<tr>
<td style="text-align:left;">
B01001_004
</td>
<td style="text-align:left;">
Estimate!!Total!!Male!!5 to 9 years
</td>
<td style="text-align:left;">
SEX BY AGE
</td>
</tr>
<tr>
<td style="text-align:left;">
B01001_005
</td>
<td style="text-align:left;">
Estimate!!Total!!Male!!10 to 14 years
</td>
<td style="text-align:left;">
SEX BY AGE
</td>
</tr>
<tr>
<td style="text-align:left;">
B01001_006
</td>
<td style="text-align:left;">
Estimate!!Total!!Male!!15 to 17 years
</td>
<td style="text-align:left;">
SEX BY AGE
</td>
</tr>
<tr>
<td style="text-align:left;">
B01001_007
</td>
<td style="text-align:left;">
Estimate!!Total!!Male!!18 and 19 years
</td>
<td style="text-align:left;">
SEX BY AGE
</td>
</tr>
<tr>
<td style="text-align:left;">
B01001_008
</td>
<td style="text-align:left;">
Estimate!!Total!!Male!!20 years
</td>
<td style="text-align:left;">
SEX BY AGE
</td>
</tr>
</tbody>
</table></div>
<p>The returned data frame has three columns: <code>name</code>, which refers to the Census variable ID; <code>label</code>, which is a descriptive data label for the variable; and <code>concept</code>, which refers to the topic of the data and often corresponds to a table of Census data. As illustrated above, the data frame can be filtered using tidyverse tools for variable exploration. However, the RStudio integrated development environment includes an interactive data viewer which is ideal for browsing this dataset, and allows for interactive sorting and filtering. The data viewer can be accessed with the <code><a href="https://rdrr.io/r/utils/View.html">View()</a></code> function:</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/View.html">View</a></span><span class="op">(</span><span class="va">v16</span><span class="op">)</span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:view-variables-img"></span>
<img src="img/view.png" alt="Variable viewer in RStudio" width="100%"><p class="caption">
Figure 2.1: Variable viewer in RStudio
</p>
</div>
<p>By browsing the table in this way, users can identify the appropriate variable IDs (found in the <code>name</code> column) that can be passed to the <code>variables</code> parameter in <code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code> or <code><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial()</a></code>. Users may note that the raw variable IDs in the ACS, as consumed by the API, require a suffix of <code>E</code> or <code>M</code>. <strong>tidycensus</strong> does not require this suffix, as it will automatically return both the estimate and margin of error for a given requested variable. Additionally, if users desire an entire table of related variables from the ACS, the user should supply the characters prior to the underscore from a variable ID to the <code>table</code> parameter.</p>
</div>
<div id="data-structure-in-tidycensus" class="section level2" number="2.4">
<h2>
<span class="header-section-number">2.4</span> Data structure in tidycensus<a class="anchor" aria-label="anchor" href="#data-structure-in-tidycensus"><i class="fas fa-link"></i></a>
</h2>
<p>Key to the design philosophy of tidycensus is its interpretation of tidy data. Following <span class="citation"><a href="references.html#ref-wickham2014" role="doc-biblioref">Wickham</a> (<a href="references.html#ref-wickham2014" role="doc-biblioref">2014</a>)</span>, “tidy” data are defined as follows:</p>
<ol style="list-style-type: decimal">
<li>Each observation forms a row;</li>
<li>Each variable forms a column;</li>
<li>Each observational unit forms a table.</li>
</ol>
<p>By default, <strong>tidycensus</strong> returns a tibble of ACS or decennial Census data in “tidy” format. For decennial Census data, this will include four columns:</p>
<ul>
<li><p><code>GEOID</code>, representing the Census ID code that uniquely identifies the geographic unit;</p></li>
<li><p><code>NAME</code>, which represents a descriptive name of the unit;</p></li>
<li><p><code>variable</code>, which contains information on the Census variable name corresponding to that row;</p></li>
<li><p><code>value</code>, which contains the data values for each unit-variable combination. For ACS data, two columns replace the <code>value</code> column: <code>estimate</code>, which represents the ACS estimate, and <code>moe</code>, representing the margin of error around that estimate.</p></li>
</ul>
<p>Given the terminology used by the Census Bureau to distinguish data, it is important to provide some clarifications of nomenclature here. Census or ACS <em>variables</em>, which are specific series of data available by enumeration unit, are interpreted in tidycensus as <em>characteristics</em> of those enumeration units. In turn, rows in datasets returned when <code>output = "tidy"</code>, which is the default setting in the <code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code> and <code><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial()</a></code> functions, represent data for unique unit-variable combinations. An example of this is illustrated below with income groups by state for the 2016 1-year American Community Survey.</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">hhinc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs</a></span><span class="op">(</span>
  geography <span class="op">=</span> <span class="st">"state"</span>, 
  table <span class="op">=</span> <span class="st">"B19001"</span>, 
  survey <span class="op">=</span> <span class="st">"acs1"</span>,
  year <span class="op">=</span> <span class="fl">2016</span>
<span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:state-income-table-show">Table 2.10: </span>Household income groups by state, 2016 1-year ACS
</caption>
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
GEOID
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
NAME
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
variable
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
estimate
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
moe
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
01
</td>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:left;">
B19001_001
</td>
<td style="text-align:right;">
1852518
</td>
<td style="text-align:right;">
12189
</td>
</tr>
<tr>
<td style="text-align:left;">
01
</td>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:left;">
B19001_002
</td>
<td style="text-align:right;">
176641
</td>
<td style="text-align:right;">
6328
</td>
</tr>
<tr>
<td style="text-align:left;">
01
</td>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:left;">
B19001_003
</td>
<td style="text-align:right;">
120590
</td>
<td style="text-align:right;">
5347
</td>
</tr>
<tr>
<td style="text-align:left;">
01
</td>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:left;">
B19001_004
</td>
<td style="text-align:right;">
117332
</td>
<td style="text-align:right;">
5956
</td>
</tr>
<tr>
<td style="text-align:left;">
01
</td>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:left;">
B19001_005
</td>
<td style="text-align:right;">
108912
</td>
<td style="text-align:right;">
5308
</td>
</tr>
<tr>
<td style="text-align:left;">
01
</td>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:left;">
B19001_006
</td>
<td style="text-align:right;">
102080
</td>
<td style="text-align:right;">
4740
</td>
</tr>
<tr>
<td style="text-align:left;">
01
</td>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:left;">
B19001_007
</td>
<td style="text-align:right;">
103366
</td>
<td style="text-align:right;">
5246
</td>
</tr>
<tr>
<td style="text-align:left;">
01
</td>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:left;">
B19001_008
</td>
<td style="text-align:right;">
91011
</td>
<td style="text-align:right;">
4699
</td>
</tr>
<tr>
<td style="text-align:left;">
01
</td>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:left;">
B19001_009
</td>
<td style="text-align:right;">
86996
</td>
<td style="text-align:right;">
4418
</td>
</tr>
<tr>
<td style="text-align:left;">
01
</td>
<td style="text-align:left;">
Alabama
</td>
<td style="text-align:left;">
B19001_010
</td>
<td style="text-align:right;">
74864
</td>
<td style="text-align:right;">
4210
</td>
</tr>
</tbody>
</table></div>
<p>In this example, each row represents state-characteristic combinations, consistent with the tidy data model. Alternatively, if a user desires the variables spread across the columns of the dataset, the setting <code>output = "wide"</code> will enable this. For ACS data, estimates and margins of error for each ACS variable will be found in their own columns. For example:</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">hhinc_wide</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs</a></span><span class="op">(</span>
  geography <span class="op">=</span> <span class="st">"state"</span>, 
  table <span class="op">=</span> <span class="st">"B19001"</span>, 
  survey <span class="op">=</span> <span class="st">"acs1"</span>, 
  year <span class="op">=</span> <span class="fl">2016</span>,
  output <span class="op">=</span> <span class="st">"wide"</span>
<span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:state-income-table-wide-show">Table 2.11: </span>Income table in wide form
</caption>
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
GEOID
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
NAME
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
B19001_001E
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
B19001_001M
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
B19001_002E
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
B19001_002M
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
B19001_003E
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
B19001_003M
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
B19001_004E
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
B19001_004M
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
B19001_005E
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
B19001_005M
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
B19001_006E
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
B19001_006M
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
B19001_007E
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
B19001_007M
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
B19001_008E
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
B19001_008M
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
B19001_009E
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
B19001_009M
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
B19001_010E
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
B19001_010M
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
B19001_011E
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
B19001_011M
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
B19001_012E
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
B19001_012M
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
B19001_013E
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
B19001_013M
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
B19001_014E
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
B19001_014M
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
B19001_015E
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
B19001_015M
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
B19001_016E
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
B19001_016M
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
B19001_017E
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
B19001_017M
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
28
</td>
<td style="text-align:left;">
Mississippi
</td>
<td style="text-align:right;">
1091245
</td>
<td style="text-align:right;">
8803
</td>
<td style="text-align:right;">
113124
</td>
<td style="text-align:right;">
4835
</td>
<td style="text-align:right;">
87136
</td>
<td style="text-align:right;">
5004
</td>
<td style="text-align:right;">
71206
</td>
<td style="text-align:right;">
4058
</td>
<td style="text-align:right;">
70160
</td>
<td style="text-align:right;">
4560
</td>
<td style="text-align:right;">
59619
</td>
<td style="text-align:right;">
4105
</td>
<td style="text-align:right;">
62688
</td>
<td style="text-align:right;">
4149
</td>
<td style="text-align:right;">
55973
</td>
<td style="text-align:right;">
4422
</td>
<td style="text-align:right;">
57215
</td>
<td style="text-align:right;">
4119
</td>
<td style="text-align:right;">
41870
</td>
<td style="text-align:right;">
3427
</td>
<td style="text-align:right;">
86198
</td>
<td style="text-align:right;">
4669
</td>
<td style="text-align:right;">
98865
</td>
<td style="text-align:right;">
5983
</td>
<td style="text-align:right;">
117664
</td>
<td style="text-align:right;">
5168
</td>
<td style="text-align:right;">
68367
</td>
<td style="text-align:right;">
4079
</td>
<td style="text-align:right;">
37809
</td>
<td style="text-align:right;">
2983
</td>
<td style="text-align:right;">
34786
</td>
<td style="text-align:right;">
3038
</td>
<td style="text-align:right;">
28565
</td>
<td style="text-align:right;">
2396
</td>
</tr>
<tr>
<td style="text-align:left;">
29
</td>
<td style="text-align:left;">
Missouri
</td>
<td style="text-align:right;">
2372190
</td>
<td style="text-align:right;">
10844
</td>
<td style="text-align:right;">
160615
</td>
<td style="text-align:right;">
6705
</td>
<td style="text-align:right;">
122649
</td>
<td style="text-align:right;">
4654
</td>
<td style="text-align:right;">
123789
</td>
<td style="text-align:right;">
5201
</td>
<td style="text-align:right;">
128270
</td>
<td style="text-align:right;">
5714
</td>
<td style="text-align:right;">
123224
</td>
<td style="text-align:right;">
4726
</td>
<td style="text-align:right;">
133429
</td>
<td style="text-align:right;">
5639
</td>
<td style="text-align:right;">
123373
</td>
<td style="text-align:right;">
4564
</td>
<td style="text-align:right;">
117476
</td>
<td style="text-align:right;">
5796
</td>
<td style="text-align:right;">
107254
</td>
<td style="text-align:right;">
4130
</td>
<td style="text-align:right;">
200473
</td>
<td style="text-align:right;">
6468
</td>
<td style="text-align:right;">
248099
</td>
<td style="text-align:right;">
6281
</td>
<td style="text-align:right;">
296437
</td>
<td style="text-align:right;">
7492
</td>
<td style="text-align:right;">
188700
</td>
<td style="text-align:right;">
6361
</td>
<td style="text-align:right;">
102034
</td>
<td style="text-align:right;">
4905
</td>
<td style="text-align:right;">
102670
</td>
<td style="text-align:right;">
4935
</td>
<td style="text-align:right;">
93698
</td>
<td style="text-align:right;">
4434
</td>
</tr>
<tr>
<td style="text-align:left;">
30
</td>
<td style="text-align:left;">
Montana
</td>
<td style="text-align:right;">
416125
</td>
<td style="text-align:right;">
4426
</td>
<td style="text-align:right;">
26734
</td>
<td style="text-align:right;">
2183
</td>
<td style="text-align:right;">
24786
</td>
<td style="text-align:right;">
2391
</td>
<td style="text-align:right;">
22330
</td>
<td style="text-align:right;">
2391
</td>
<td style="text-align:right;">
22193
</td>
<td style="text-align:right;">
2098
</td>
<td style="text-align:right;">
22568
</td>
<td style="text-align:right;">
2191
</td>
<td style="text-align:right;">
24449
</td>
<td style="text-align:right;">
2343
</td>
<td style="text-align:right;">
22135
</td>
<td style="text-align:right;">
2094
</td>
<td style="text-align:right;">
22241
</td>
<td style="text-align:right;">
1974
</td>
<td style="text-align:right;">
20513
</td>
<td style="text-align:right;">
1987
</td>
<td style="text-align:right;">
33707
</td>
<td style="text-align:right;">
2860
</td>
<td style="text-align:right;">
43775
</td>
<td style="text-align:right;">
3112
</td>
<td style="text-align:right;">
50902
</td>
<td style="text-align:right;">
2878
</td>
<td style="text-align:right;">
29940
</td>
<td style="text-align:right;">
2823
</td>
<td style="text-align:right;">
18585
</td>
<td style="text-align:right;">
1928
</td>
<td style="text-align:right;">
15669
</td>
<td style="text-align:right;">
1603
</td>
<td style="text-align:right;">
15598
</td>
<td style="text-align:right;">
1511
</td>
</tr>
<tr>
<td style="text-align:left;">
31
</td>
<td style="text-align:left;">
Nebraska
</td>
<td style="text-align:right;">
747562
</td>
<td style="text-align:right;">
4452
</td>
<td style="text-align:right;">
45794
</td>
<td style="text-align:right;">
3116
</td>
<td style="text-align:right;">
33266
</td>
<td style="text-align:right;">
2466
</td>
<td style="text-align:right;">
31084
</td>
<td style="text-align:right;">
2533
</td>
<td style="text-align:right;">
37602
</td>
<td style="text-align:right;">
2475
</td>
<td style="text-align:right;">
38037
</td>
<td style="text-align:right;">
3067
</td>
<td style="text-align:right;">
40412
</td>
<td style="text-align:right;">
2841
</td>
<td style="text-align:right;">
36761
</td>
<td style="text-align:right;">
2757
</td>
<td style="text-align:right;">
35558
</td>
<td style="text-align:right;">
2474
</td>
<td style="text-align:right;">
33429
</td>
<td style="text-align:right;">
2688
</td>
<td style="text-align:right;">
57950
</td>
<td style="text-align:right;">
3212
</td>
<td style="text-align:right;">
83173
</td>
<td style="text-align:right;">
4291
</td>
<td style="text-align:right;">
99028
</td>
<td style="text-align:right;">
4389
</td>
<td style="text-align:right;">
69003
</td>
<td style="text-align:right;">
3272
</td>
<td style="text-align:right;">
37347
</td>
<td style="text-align:right;">
2482
</td>
<td style="text-align:right;">
37665
</td>
<td style="text-align:right;">
2540
</td>
<td style="text-align:right;">
31453
</td>
<td style="text-align:right;">
2166
</td>
</tr>
<tr>
<td style="text-align:left;">
32
</td>
<td style="text-align:left;">
Nevada
</td>
<td style="text-align:right;">
1055158
</td>
<td style="text-align:right;">
6433
</td>
<td style="text-align:right;">
68507
</td>
<td style="text-align:right;">
4886
</td>
<td style="text-align:right;">
42720
</td>
<td style="text-align:right;">
3071
</td>
<td style="text-align:right;">
53143
</td>
<td style="text-align:right;">
3653
</td>
<td style="text-align:right;">
53188
</td>
<td style="text-align:right;">
3403
</td>
<td style="text-align:right;">
56693
</td>
<td style="text-align:right;">
3758
</td>
<td style="text-align:right;">
57215
</td>
<td style="text-align:right;">
3909
</td>
<td style="text-align:right;">
50798
</td>
<td style="text-align:right;">
4207
</td>
<td style="text-align:right;">
53783
</td>
<td style="text-align:right;">
3826
</td>
<td style="text-align:right;">
44637
</td>
<td style="text-align:right;">
3558
</td>
<td style="text-align:right;">
87876
</td>
<td style="text-align:right;">
4032
</td>
<td style="text-align:right;">
116975
</td>
<td style="text-align:right;">
4704
</td>
<td style="text-align:right;">
135242
</td>
<td style="text-align:right;">
4728
</td>
<td style="text-align:right;">
88474
</td>
<td style="text-align:right;">
4750
</td>
<td style="text-align:right;">
54275
</td>
<td style="text-align:right;">
3382
</td>
<td style="text-align:right;">
45943
</td>
<td style="text-align:right;">
3019
</td>
<td style="text-align:right;">
45689
</td>
<td style="text-align:right;">
3255
</td>
</tr>
<tr>
<td style="text-align:left;">
33
</td>
<td style="text-align:left;">
New Hampshire
</td>
<td style="text-align:right;">
520643
</td>
<td style="text-align:right;">
5191
</td>
<td style="text-align:right;">
20890
</td>
<td style="text-align:right;">
2566
</td>
<td style="text-align:right;">
15933
</td>
<td style="text-align:right;">
1908
</td>
<td style="text-align:right;">
18190
</td>
<td style="text-align:right;">
2315
</td>
<td style="text-align:right;">
18067
</td>
<td style="text-align:right;">
1841
</td>
<td style="text-align:right;">
21680
</td>
<td style="text-align:right;">
2292
</td>
<td style="text-align:right;">
22695
</td>
<td style="text-align:right;">
2067
</td>
<td style="text-align:right;">
21064
</td>
<td style="text-align:right;">
2112
</td>
<td style="text-align:right;">
17717
</td>
<td style="text-align:right;">
2340
</td>
<td style="text-align:right;">
21086
</td>
<td style="text-align:right;">
2454
</td>
<td style="text-align:right;">
39534
</td>
<td style="text-align:right;">
3108
</td>
<td style="text-align:right;">
57994
</td>
<td style="text-align:right;">
3587
</td>
<td style="text-align:right;">
75337
</td>
<td style="text-align:right;">
4214
</td>
<td style="text-align:right;">
56445
</td>
<td style="text-align:right;">
3069
</td>
<td style="text-align:right;">
33685
</td>
<td style="text-align:right;">
2445
</td>
<td style="text-align:right;">
41092
</td>
<td style="text-align:right;">
3028
</td>
<td style="text-align:right;">
39234
</td>
<td style="text-align:right;">
2925
</td>
</tr>
<tr>
<td style="text-align:left;">
34
</td>
<td style="text-align:left;">
New Jersey
</td>
<td style="text-align:right;">
3194519
</td>
<td style="text-align:right;">
10274
</td>
<td style="text-align:right;">
170029
</td>
<td style="text-align:right;">
6836
</td>
<td style="text-align:right;">
118862
</td>
<td style="text-align:right;">
5855
</td>
<td style="text-align:right;">
123335
</td>
<td style="text-align:right;">
6065
</td>
<td style="text-align:right;">
121889
</td>
<td style="text-align:right;">
4670
</td>
<td style="text-align:right;">
120881
</td>
<td style="text-align:right;">
5562
</td>
<td style="text-align:right;">
113762
</td>
<td style="text-align:right;">
5328
</td>
<td style="text-align:right;">
112003
</td>
<td style="text-align:right;">
5795
</td>
<td style="text-align:right;">
110312
</td>
<td style="text-align:right;">
6000
</td>
<td style="text-align:right;">
100527
</td>
<td style="text-align:right;">
4994
</td>
<td style="text-align:right;">
207103
</td>
<td style="text-align:right;">
6096
</td>
<td style="text-align:right;">
277719
</td>
<td style="text-align:right;">
8225
</td>
<td style="text-align:right;">
390127
</td>
<td style="text-align:right;">
9002
</td>
<td style="text-align:right;">
328144
</td>
<td style="text-align:right;">
8879
</td>
<td style="text-align:right;">
220764
</td>
<td style="text-align:right;">
7203
</td>
<td style="text-align:right;">
295764
</td>
<td style="text-align:right;">
7663
</td>
<td style="text-align:right;">
383298
</td>
<td style="text-align:right;">
7529
</td>
</tr>
<tr>
<td style="text-align:left;">
35
</td>
<td style="text-align:left;">
New Mexico
</td>
<td style="text-align:right;">
758364
</td>
<td style="text-align:right;">
6296
</td>
<td style="text-align:right;">
66983
</td>
<td style="text-align:right;">
4439
</td>
<td style="text-align:right;">
48930
</td>
<td style="text-align:right;">
3220
</td>
<td style="text-align:right;">
50025
</td>
<td style="text-align:right;">
4091
</td>
<td style="text-align:right;">
48054
</td>
<td style="text-align:right;">
3477
</td>
<td style="text-align:right;">
40353
</td>
<td style="text-align:right;">
3418
</td>
<td style="text-align:right;">
38164
</td>
<td style="text-align:right;">
2931
</td>
<td style="text-align:right;">
35107
</td>
<td style="text-align:right;">
2934
</td>
<td style="text-align:right;">
37564
</td>
<td style="text-align:right;">
2815
</td>
<td style="text-align:right;">
34581
</td>
<td style="text-align:right;">
2684
</td>
<td style="text-align:right;">
59437
</td>
<td style="text-align:right;">
3388
</td>
<td style="text-align:right;">
73011
</td>
<td style="text-align:right;">
3581
</td>
<td style="text-align:right;">
87486
</td>
<td style="text-align:right;">
4182
</td>
<td style="text-align:right;">
55708
</td>
<td style="text-align:right;">
3629
</td>
<td style="text-align:right;">
29307
</td>
<td style="text-align:right;">
2585
</td>
<td style="text-align:right;">
26732
</td>
<td style="text-align:right;">
2351
</td>
<td style="text-align:right;">
26922
</td>
<td style="text-align:right;">
2608
</td>
</tr>
<tr>
<td style="text-align:left;">
36
</td>
<td style="text-align:left;">
New York
</td>
<td style="text-align:right;">
7209054
</td>
<td style="text-align:right;">
17665
</td>
<td style="text-align:right;">
543763
</td>
<td style="text-align:right;">
12132
</td>
<td style="text-align:right;">
352029
</td>
<td style="text-align:right;">
9607
</td>
<td style="text-align:right;">
322683
</td>
<td style="text-align:right;">
7756
</td>
<td style="text-align:right;">
327051
</td>
<td style="text-align:right;">
8184
</td>
<td style="text-align:right;">
297201
</td>
<td style="text-align:right;">
8689
</td>
<td style="text-align:right;">
316465
</td>
<td style="text-align:right;">
9191
</td>
<td style="text-align:right;">
285531
</td>
<td style="text-align:right;">
8078
</td>
<td style="text-align:right;">
277776
</td>
<td style="text-align:right;">
8886
</td>
<td style="text-align:right;">
239908
</td>
<td style="text-align:right;">
8368
</td>
<td style="text-align:right;">
485826
</td>
<td style="text-align:right;">
10467
</td>
<td style="text-align:right;">
648930
</td>
<td style="text-align:right;">
12717
</td>
<td style="text-align:right;">
864777
</td>
<td style="text-align:right;">
14413
</td>
<td style="text-align:right;">
646586
</td>
<td style="text-align:right;">
12798
</td>
<td style="text-align:right;">
432309
</td>
<td style="text-align:right;">
11182
</td>
<td style="text-align:right;">
521545
</td>
<td style="text-align:right;">
11193
</td>
<td style="text-align:right;">
646674
</td>
<td style="text-align:right;">
9931
</td>
</tr>
<tr>
<td style="text-align:left;">
37
</td>
<td style="text-align:left;">
North Carolina
</td>
<td style="text-align:right;">
3882423
</td>
<td style="text-align:right;">
16063
</td>
<td style="text-align:right;">
282491
</td>
<td style="text-align:right;">
7816
</td>
<td style="text-align:right;">
228088
</td>
<td style="text-align:right;">
7916
</td>
<td style="text-align:right;">
209825
</td>
<td style="text-align:right;">
6844
</td>
<td style="text-align:right;">
212659
</td>
<td style="text-align:right;">
7095
</td>
<td style="text-align:right;">
206371
</td>
<td style="text-align:right;">
7190
</td>
<td style="text-align:right;">
215759
</td>
<td style="text-align:right;">
6349
</td>
<td style="text-align:right;">
190497
</td>
<td style="text-align:right;">
7507
</td>
<td style="text-align:right;">
199257
</td>
<td style="text-align:right;">
6269
</td>
<td style="text-align:right;">
170320
</td>
<td style="text-align:right;">
6503
</td>
<td style="text-align:right;">
318567
</td>
<td style="text-align:right;">
7932
</td>
<td style="text-align:right;">
395160
</td>
<td style="text-align:right;">
9069
</td>
<td style="text-align:right;">
468022
</td>
<td style="text-align:right;">
10041
</td>
<td style="text-align:right;">
288626
</td>
<td style="text-align:right;">
7339
</td>
<td style="text-align:right;">
160589
</td>
<td style="text-align:right;">
6395
</td>
<td style="text-align:right;">
166800
</td>
<td style="text-align:right;">
5286
</td>
<td style="text-align:right;">
169392
</td>
<td style="text-align:right;">
5628
</td>
</tr>
</tbody>
</table></div>
<p>The wide-form dataset includes <code>GEOID</code> and <code>NAME</code> columns, as in the tidy dataset, but is also characterized by estimate/margin of error pairs across the columns for each Census variable in the table.</p>
<div id="renaming-variable-ids" class="section level3" number="2.4.1">
<h3>
<span class="header-section-number">2.4.1</span> Renaming variable IDs<a class="anchor" aria-label="anchor" href="#renaming-variable-ids"><i class="fas fa-link"></i></a>
</h3>
<p>Census variables IDs can be cumbersome to type and remember in the course of an R session. As such, <strong>tidycensus</strong> has built-in tools to automatically rename the variable IDs if requested by a user. For example, let’s say that a user is requesting data on median household income (variable ID <code>B19013_001</code>) and median age (variable ID <code>B01002_001</code>). By passing a <em>named</em> vector to the <code>variables</code> parameter in <code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code> or <code><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial()</a></code>, the functions will return the desired names rather than the Census variable IDs. Let’s examine this for counties in Georgia from the 2015-2019 five-year ACS.</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ga</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs</a></span><span class="op">(</span>
  geography <span class="op">=</span> <span class="st">"county"</span>,
  state <span class="op">=</span> <span class="st">"Georgia"</span>,
  variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>medinc <span class="op">=</span> <span class="st">"B19013_001"</span>,
                medage <span class="op">=</span> <span class="st">"B01002_001"</span><span class="op">)</span>,
  year <span class="op">=</span> <span class="fl">2019</span>
<span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:georgia-data-show">Table 2.12: </span>Multi-variable dataset for Georgia counties
</caption>
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
GEOID
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
NAME
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
variable
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
estimate
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
moe
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
13001
</td>
<td style="text-align:left;">
Appling County, Georgia
</td>
<td style="text-align:left;">
medage
</td>
<td style="text-align:right;">
40.3
</td>
<td style="text-align:right;">
1.4
</td>
</tr>
<tr>
<td style="text-align:left;">
13001
</td>
<td style="text-align:left;">
Appling County, Georgia
</td>
<td style="text-align:left;">
medinc
</td>
<td style="text-align:right;">
40304.0
</td>
<td style="text-align:right;">
5180.0
</td>
</tr>
<tr>
<td style="text-align:left;">
13003
</td>
<td style="text-align:left;">
Atkinson County, Georgia
</td>
<td style="text-align:left;">
medage
</td>
<td style="text-align:right;">
36.4
</td>
<td style="text-align:right;">
1.0
</td>
</tr>
<tr>
<td style="text-align:left;">
13003
</td>
<td style="text-align:left;">
Atkinson County, Georgia
</td>
<td style="text-align:left;">
medinc
</td>
<td style="text-align:right;">
37197.0
</td>
<td style="text-align:right;">
3686.0
</td>
</tr>
<tr>
<td style="text-align:left;">
13005
</td>
<td style="text-align:left;">
Bacon County, Georgia
</td>
<td style="text-align:left;">
medage
</td>
<td style="text-align:right;">
36.7
</td>
<td style="text-align:right;">
0.7
</td>
</tr>
<tr>
<td style="text-align:left;">
13005
</td>
<td style="text-align:left;">
Bacon County, Georgia
</td>
<td style="text-align:left;">
medinc
</td>
<td style="text-align:right;">
37519.0
</td>
<td style="text-align:right;">
5492.0
</td>
</tr>
<tr>
<td style="text-align:left;">
13007
</td>
<td style="text-align:left;">
Baker County, Georgia
</td>
<td style="text-align:left;">
medage
</td>
<td style="text-align:right;">
46.1
</td>
<td style="text-align:right;">
5.5
</td>
</tr>
<tr>
<td style="text-align:left;">
13007
</td>
<td style="text-align:left;">
Baker County, Georgia
</td>
<td style="text-align:left;">
medinc
</td>
<td style="text-align:right;">
32917.0
</td>
<td style="text-align:right;">
6967.0
</td>
</tr>
<tr>
<td style="text-align:left;">
13009
</td>
<td style="text-align:left;">
Baldwin County, Georgia
</td>
<td style="text-align:left;">
medage
</td>
<td style="text-align:right;">
35.5
</td>
<td style="text-align:right;">
0.3
</td>
</tr>
<tr>
<td style="text-align:left;">
13009
</td>
<td style="text-align:left;">
Baldwin County, Georgia
</td>
<td style="text-align:left;">
medinc
</td>
<td style="text-align:right;">
43672.0
</td>
<td style="text-align:right;">
3736.0
</td>
</tr>
</tbody>
</table></div>
<p>ACS variable IDs, which would be found in the <code>variable</code> column, are replaced by <code>medage</code> and <code>medinc</code>, as requested. When a wide-form dataset is requested, <strong>tidycensus</strong> will still append <code>E</code> and <code>M</code> to the specified column names, as illustrated below.</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ga_wide</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs</a></span><span class="op">(</span>
  geography <span class="op">=</span> <span class="st">"county"</span>,
  state <span class="op">=</span> <span class="st">"Georgia"</span>,
  variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>medinc <span class="op">=</span> <span class="st">"B19013_001"</span>,
                medage <span class="op">=</span> <span class="st">"B01002_001"</span><span class="op">)</span>,
  output <span class="op">=</span> <span class="st">"wide"</span>
<span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:georgia-data-wide-show">Table 2.13: </span>Georgia dataset in wide form
</caption>
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
GEOID
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
NAME
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
medincE
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
medincM
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
medageE
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
medageM
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
13005
</td>
<td style="text-align:left;">
Bacon County, Georgia
</td>
<td style="text-align:right;">
37519
</td>
<td style="text-align:right;">
5492
</td>
<td style="text-align:right;">
36.7
</td>
<td style="text-align:right;">
0.7
</td>
</tr>
<tr>
<td style="text-align:left;">
13025
</td>
<td style="text-align:left;">
Brantley County, Georgia
</td>
<td style="text-align:right;">
38857
</td>
<td style="text-align:right;">
3480
</td>
<td style="text-align:right;">
41.1
</td>
<td style="text-align:right;">
0.8
</td>
</tr>
<tr>
<td style="text-align:left;">
13017
</td>
<td style="text-align:left;">
Ben Hill County, Georgia
</td>
<td style="text-align:right;">
32229
</td>
<td style="text-align:right;">
3845
</td>
<td style="text-align:right;">
39.9
</td>
<td style="text-align:right;">
1.1
</td>
</tr>
<tr>
<td style="text-align:left;">
13033
</td>
<td style="text-align:left;">
Burke County, Georgia
</td>
<td style="text-align:right;">
44151
</td>
<td style="text-align:right;">
2438
</td>
<td style="text-align:right;">
37.4
</td>
<td style="text-align:right;">
0.6
</td>
</tr>
<tr>
<td style="text-align:left;">
13047
</td>
<td style="text-align:left;">
Catoosa County, Georgia
</td>
<td style="text-align:right;">
56235
</td>
<td style="text-align:right;">
2290
</td>
<td style="text-align:right;">
40.4
</td>
<td style="text-align:right;">
0.4
</td>
</tr>
<tr>
<td style="text-align:left;">
13053
</td>
<td style="text-align:left;">
Chattahoochee County, Georgia
</td>
<td style="text-align:right;">
47096
</td>
<td style="text-align:right;">
5158
</td>
<td style="text-align:right;">
24.5
</td>
<td style="text-align:right;">
0.5
</td>
</tr>
<tr>
<td style="text-align:left;">
13055
</td>
<td style="text-align:left;">
Chattooga County, Georgia
</td>
<td style="text-align:right;">
36807
</td>
<td style="text-align:right;">
2268
</td>
<td style="text-align:right;">
39.4
</td>
<td style="text-align:right;">
0.7
</td>
</tr>
<tr>
<td style="text-align:left;">
13073
</td>
<td style="text-align:left;">
Columbia County, Georgia
</td>
<td style="text-align:right;">
82339
</td>
<td style="text-align:right;">
3532
</td>
<td style="text-align:right;">
36.9
</td>
<td style="text-align:right;">
0.4
</td>
</tr>
<tr>
<td style="text-align:left;">
13087
</td>
<td style="text-align:left;">
Decatur County, Georgia
</td>
<td style="text-align:right;">
41481
</td>
<td style="text-align:right;">
3584
</td>
<td style="text-align:right;">
37.8
</td>
<td style="text-align:right;">
0.6
</td>
</tr>
<tr>
<td style="text-align:left;">
13115
</td>
<td style="text-align:left;">
Floyd County, Georgia
</td>
<td style="text-align:right;">
48336
</td>
<td style="text-align:right;">
2266
</td>
<td style="text-align:right;">
38.3
</td>
<td style="text-align:right;">
0.3
</td>
</tr>
</tbody>
</table></div>
<p>Median household income for each county is represented by <code>medincE</code>, for the estimate, and <code>medincM</code>, for the margin of error. At the time of this writing, custom variable names are only available for <code>variables</code> and not for <code>table</code>, as users will not always know the number of variables found in a table beforehand.</p>
</div>
</div>
<div id="other-census-bureau-datasets-in-tidycensus" class="section level2" number="2.5">
<h2>
<span class="header-section-number">2.5</span> Other Census Bureau datasets in tidycensus<a class="anchor" aria-label="anchor" href="#other-census-bureau-datasets-in-tidycensus"><i class="fas fa-link"></i></a>
</h2>
<p>As mentioned earlier in this chapter, <strong>tidycensus</strong> does not grant access to all of the datasets available from the Census API; users should look at the <strong>censusapi</strong> package <span class="citation">(<a href="references.html#ref-recht2021" role="doc-biblioref">Recht 2021</a>)</span> for that functionality. However, the Population Estimates and ACS Migration Flows APIs are accessible with the <code><a href="https://walker-data.com/tidycensus/reference/get_estimates.html">get_estimates()</a></code> and <code><a href="https://walker-data.com/tidycensus/reference/get_flows.html">get_flows()</a></code> functions, respectively. This section includes brief examples of each.</p>
<div id="using-get_estimates" class="section level3" number="2.5.1">
<h3>
<span class="header-section-number">2.5.1</span> Using <code>get_estimates()</code><a class="anchor" aria-label="anchor" href="#using-get_estimates"><i class="fas fa-link"></i></a>
</h3>
<p>The <a href="https://www.census.gov/programs-surveys/popest.html">Population Estimates Program</a>, or PEP, provides yearly estimates of the US population and its components between decennial Censuses. It differs from the ACS in that it is not directly based on a dedicated survey, but rather projects forward data from the most recent decennial Census based on birth, death, and migration rates.</p>
<p>One advantage of using the PEP to retrieve data is that allows you to access the indicators used to produce the intercensal population estimates. These indicators can be specified as variables direction in the <code><a href="https://walker-data.com/tidycensus/reference/get_estimates.html">get_estimates()</a></code> function in <strong>tidycensus</strong>, or requested in bulk by using the <code>product</code> argument. The products available include <code>"population"</code>, <code>"components"</code>, <code>"housing"</code>, and <code>"characteristics"</code>. For example, we can request all components of change population estimates for 2019 for a specific county:</p>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://walker-data.com/tidycensus/">tidycensus</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span>

<span class="va">queens_components</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://walker-data.com/tidycensus/reference/get_estimates.html">get_estimates</a></span><span class="op">(</span>
  geography <span class="op">=</span> <span class="st">"county"</span>,
  product <span class="op">=</span> <span class="st">"components"</span>,
  state <span class="op">=</span> <span class="st">"NY"</span>,
  county <span class="op">=</span> <span class="st">"Queens"</span>,
  year <span class="op">=</span> <span class="fl">2019</span>
<span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:queens-components-show">Table 2.14: </span>Components of change estimates for Queens County, NY
</caption>
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
NAME
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
GEOID
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
variable
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
value
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Queens County, New York
</td>
<td style="text-align:left;">
36081
</td>
<td style="text-align:left;">
BIRTHS
</td>
<td style="text-align:right;">
27453.000000
</td>
</tr>
<tr>
<td style="text-align:left;">
Queens County, New York
</td>
<td style="text-align:left;">
36081
</td>
<td style="text-align:left;">
DEATHS
</td>
<td style="text-align:right;">
16380.000000
</td>
</tr>
<tr>
<td style="text-align:left;">
Queens County, New York
</td>
<td style="text-align:left;">
36081
</td>
<td style="text-align:left;">
DOMESTICMIG
</td>
<td style="text-align:right;">
-41789.000000
</td>
</tr>
<tr>
<td style="text-align:left;">
Queens County, New York
</td>
<td style="text-align:left;">
36081
</td>
<td style="text-align:left;">
INTERNATIONALMIG
</td>
<td style="text-align:right;">
9883.000000
</td>
</tr>
<tr>
<td style="text-align:left;">
Queens County, New York
</td>
<td style="text-align:left;">
36081
</td>
<td style="text-align:left;">
NATURALINC
</td>
<td style="text-align:right;">
11073.000000
</td>
</tr>
<tr>
<td style="text-align:left;">
Queens County, New York
</td>
<td style="text-align:left;">
36081
</td>
<td style="text-align:left;">
NETMIG
</td>
<td style="text-align:right;">
-31906.000000
</td>
</tr>
<tr>
<td style="text-align:left;">
Queens County, New York
</td>
<td style="text-align:left;">
36081
</td>
<td style="text-align:left;">
RBIRTH
</td>
<td style="text-align:right;">
12.124644
</td>
</tr>
<tr>
<td style="text-align:left;">
Queens County, New York
</td>
<td style="text-align:left;">
36081
</td>
<td style="text-align:left;">
RDEATH
</td>
<td style="text-align:right;">
7.234243
</td>
</tr>
<tr>
<td style="text-align:left;">
Queens County, New York
</td>
<td style="text-align:left;">
36081
</td>
<td style="text-align:left;">
RDOMESTICMIG
</td>
<td style="text-align:right;">
-18.456152
</td>
</tr>
<tr>
<td style="text-align:left;">
Queens County, New York
</td>
<td style="text-align:left;">
36081
</td>
<td style="text-align:left;">
RINTERNATIONALMIG
</td>
<td style="text-align:right;">
4.364836
</td>
</tr>
</tbody>
</table></div>
<p>Alternatively, a single variable or vector of variables can be requested with the <code>variable</code> argument, and the <code>output = "wide"</code> argument can also be used to spread the variable names across the columns.</p>
<p>The <code>product = "characteristics"</code> argument also has some unique options. The argument <code>breakdown</code> lets users get breakdowns of population estimates for the US, states, and counties by <code>"AGEGROUP"</code>, <code>"RACE"</code>, <code>"SEX"</code>, or <code>"HISP"</code> (Hispanic origin). If set to <code>TRUE</code>, the <code>breakdown_labels</code> argument will return informative labels for the population estimates. For example, to get population estimates by sex and Hispanic origin for metropolitan areas, we can use the following code:</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">louisiana_age_hisp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://walker-data.com/tidycensus/reference/get_estimates.html">get_estimates</a></span><span class="op">(</span>
  geography <span class="op">=</span> <span class="st">"state"</span>,
  product <span class="op">=</span> <span class="st">"characteristics"</span>,
  breakdown <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"SEX"</span>, <span class="st">"HISP"</span><span class="op">)</span>,
  breakdown_labels <span class="op">=</span> <span class="cn">TRUE</span>,
  state <span class="op">=</span> <span class="st">"LA"</span>,
  year <span class="op">=</span> <span class="fl">2019</span>
<span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:louisiana-estimates-show">Table 2.15: </span>Population characteristics for Louisiana
</caption>
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
GEOID
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
NAME
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
value
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
SEX
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
HISP
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
22
</td>
<td style="text-align:left;">
Louisiana
</td>
<td style="text-align:right;">
4648794
</td>
<td style="text-align:left;">
Both sexes
</td>
<td style="text-align:left;">
Both Hispanic Origins
</td>
</tr>
<tr>
<td style="text-align:left;">
22
</td>
<td style="text-align:left;">
Louisiana
</td>
<td style="text-align:right;">
4401822
</td>
<td style="text-align:left;">
Both sexes
</td>
<td style="text-align:left;">
Non-Hispanic
</td>
</tr>
<tr>
<td style="text-align:left;">
22
</td>
<td style="text-align:left;">
Louisiana
</td>
<td style="text-align:right;">
246972
</td>
<td style="text-align:left;">
Both sexes
</td>
<td style="text-align:left;">
Hispanic
</td>
</tr>
<tr>
<td style="text-align:left;">
22
</td>
<td style="text-align:left;">
Louisiana
</td>
<td style="text-align:right;">
2267050
</td>
<td style="text-align:left;">
Male
</td>
<td style="text-align:left;">
Both Hispanic Origins
</td>
</tr>
<tr>
<td style="text-align:left;">
22
</td>
<td style="text-align:left;">
Louisiana
</td>
<td style="text-align:right;">
2135979
</td>
<td style="text-align:left;">
Male
</td>
<td style="text-align:left;">
Non-Hispanic
</td>
</tr>
<tr>
<td style="text-align:left;">
22
</td>
<td style="text-align:left;">
Louisiana
</td>
<td style="text-align:right;">
131071
</td>
<td style="text-align:left;">
Male
</td>
<td style="text-align:left;">
Hispanic
</td>
</tr>
<tr>
<td style="text-align:left;">
22
</td>
<td style="text-align:left;">
Louisiana
</td>
<td style="text-align:right;">
2381744
</td>
<td style="text-align:left;">
Female
</td>
<td style="text-align:left;">
Both Hispanic Origins
</td>
</tr>
<tr>
<td style="text-align:left;">
22
</td>
<td style="text-align:left;">
Louisiana
</td>
<td style="text-align:right;">
2265843
</td>
<td style="text-align:left;">
Female
</td>
<td style="text-align:left;">
Non-Hispanic
</td>
</tr>
<tr>
<td style="text-align:left;">
22
</td>
<td style="text-align:left;">
Louisiana
</td>
<td style="text-align:right;">
115901
</td>
<td style="text-align:left;">
Female
</td>
<td style="text-align:left;">
Hispanic
</td>
</tr>
</tbody>
</table></div>
</div>
<div id="using-get_flows" class="section level3" number="2.5.2">
<h3>
<span class="header-section-number">2.5.2</span> Using <code>get_flows()</code><a class="anchor" aria-label="anchor" href="#using-get_flows"><i class="fas fa-link"></i></a>
</h3>
<p>As of version 1.0, <strong>tidycensus</strong> also includes support for the ACS Migration Flows API. The flows API returns information on both in- and out-migration for states, counties, and metropolitan areas. By default, the function allows for analysis of in-migrants, emigrants, and net migration for a given geography using data from a given 5-year ACS sample. In the example below, we request migration data for Honolulu County, Hawaii. In-migration for world regions is available along with out-migration and net migration for US locations.</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">honolulu_migration</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://walker-data.com/tidycensus/reference/get_flows.html">get_flows</a></span><span class="op">(</span>
  geography <span class="op">=</span> <span class="st">"county"</span>,
  state <span class="op">=</span> <span class="st">"HI"</span>,
  county <span class="op">=</span> <span class="st">"Honolulu"</span>,
  year <span class="op">=</span> <span class="fl">2018</span>,
  show_call <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:honolulu-migration-show">Table 2.16: </span>Migration flows data for Honolulu, HI
</caption>
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
GEOID1
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
GEOID2
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
FULL1_NAME
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
FULL2_NAME
</th>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">
variable
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
estimate
</th>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;">
moe
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
15003
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Honolulu County, Hawaii
</td>
<td style="text-align:left;">
Africa
</td>
<td style="text-align:left;">
MOVEDIN
</td>
<td style="text-align:right;">
86
</td>
<td style="text-align:right;">
70
</td>
</tr>
<tr>
<td style="text-align:left;">
15003
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Honolulu County, Hawaii
</td>
<td style="text-align:left;">
Africa
</td>
<td style="text-align:left;">
MOVEDOUT
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
15003
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Honolulu County, Hawaii
</td>
<td style="text-align:left;">
Africa
</td>
<td style="text-align:left;">
MOVEDNET
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
15003
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Honolulu County, Hawaii
</td>
<td style="text-align:left;">
Asia
</td>
<td style="text-align:left;">
MOVEDIN
</td>
<td style="text-align:right;">
7620
</td>
<td style="text-align:right;">
891
</td>
</tr>
<tr>
<td style="text-align:left;">
15003
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Honolulu County, Hawaii
</td>
<td style="text-align:left;">
Asia
</td>
<td style="text-align:left;">
MOVEDOUT
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
15003
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Honolulu County, Hawaii
</td>
<td style="text-align:left;">
Asia
</td>
<td style="text-align:left;">
MOVEDNET
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
15003
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Honolulu County, Hawaii
</td>
<td style="text-align:left;">
Central America
</td>
<td style="text-align:left;">
MOVEDIN
</td>
<td style="text-align:right;">
228
</td>
<td style="text-align:right;">
98
</td>
</tr>
<tr>
<td style="text-align:left;">
15003
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Honolulu County, Hawaii
</td>
<td style="text-align:left;">
Central America
</td>
<td style="text-align:left;">
MOVEDOUT
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
15003
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Honolulu County, Hawaii
</td>
<td style="text-align:left;">
Central America
</td>
<td style="text-align:left;">
MOVEDNET
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
15003
</td>
<td style="text-align:left;">
NA
</td>
<td style="text-align:left;">
Honolulu County, Hawaii
</td>
<td style="text-align:left;">
Caribbean
</td>
<td style="text-align:left;">
MOVEDIN
</td>
<td style="text-align:right;">
106
</td>
<td style="text-align:right;">
94
</td>
</tr>
</tbody>
</table></div>
<p><code><a href="https://walker-data.com/tidycensus/reference/get_flows.html">get_flows()</a></code> also includes functionality for migration flow mapping; this advanced feature will be covered in Section <a href="mapping-census-data-with-r.html#mapping-migration-flows">6.6.1</a>.</p>
</div>
</div>
<div id="debugging-tidycensus-errors" class="section level2" number="2.6">
<h2>
<span class="header-section-number">2.6</span> Debugging tidycensus errors<a class="anchor" aria-label="anchor" href="#debugging-tidycensus-errors"><i class="fas fa-link"></i></a>
</h2>
<p>At times, you may think that you’ve formatted your use of a <strong>tidycensus</strong> function correctly but the Census API doesn’t return the data you expected. Whenever possible, <strong>tidycensus</strong> carries through the error message from the Census API or translates common errors for the user. In the example below, a user has mis-typed the variable ID:</p>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">state_pop</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://walker-data.com/tidycensus/reference/get_decennial.html">get_decennial</a></span><span class="op">(</span>
  geography <span class="op">=</span> <span class="st">"state"</span>,
  variables <span class="op">=</span> <span class="st">"P01001"</span>,
  year <span class="op">=</span> <span class="fl">2010</span>
<span class="op">)</span></code></pre></div>
<pre><code>## Error : Your API call has errors.  The API message returned is error: error: unknown variable 'P01001'.</code></pre>
<pre><code>## Error in UseMethod("gather"): no applicable method for 'gather' applied to an object of class "character"</code></pre>
<p>The “unknown variable” error message from the Census API is carried through to the user. In other instances, users might request geographies that are not available in a given dataset:</p>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cbsa_ohio</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs</a></span><span class="op">(</span>
  geography <span class="op">=</span> <span class="st">"cbsa"</span>,
  variables <span class="op">=</span> <span class="st">"DP02_0068P"</span>,
  state <span class="op">=</span> <span class="st">"OH"</span>,
  year <span class="op">=</span> <span class="fl">2019</span>
<span class="op">)</span></code></pre></div>
<pre><code>## Error: Your API call has errors.  The API message returned is error: unknown/unsupported geography heirarchy.</code></pre>
<p>The user above has attempted to get bachelor’s degree attainment by CBSA in Ohio from the ACS Data Profile. However, CBSA geographies are not available by state given that many CBSAs cross state boundaries. In response, the API returns an “unsupported geography hierarchy” error.</p>
<p>To assist with debugging errors, or more generally to help users understand how <strong>tidycensus</strong> functions are being translated to Census API calls, <strong>tidycensus</strong> offers a parameter <code>show_call</code> that when set to <code>TRUE</code> prints out the actual API call that <strong>tidycensus</strong> is making to the Census API.</p>
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cbsa_bachelors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs</a></span><span class="op">(</span>
  geography <span class="op">=</span> <span class="st">"cbsa"</span>,
  variables <span class="op">=</span> <span class="st">"DP02_0068P"</span>,
  year <span class="op">=</span> <span class="fl">2019</span>,
  show_call <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span></code></pre></div>
<pre><code>## Getting data from the 2015-2019 5-year ACS</code></pre>
<pre><code>## Using the ACS Data Profile</code></pre>
<pre><code>## Census API call: https://api.census.gov/data/2019/acs/acs5/profile?get=DP02_0068PE%2CDP02_0068PM%2CNAME&amp;for=metropolitan%20statistical%20area%2Fmicropolitan%20statistical%20area%3A%2A</code></pre>
<p>The printed URL <a href="https://api.census.gov/data/2019/acs/acs5/profile?get=DP02_0068PE%2CDP02_0068PM%2CNAME&amp;for=metropolitan%20statistical%20area%2Fmicropolitan%20statistical%20area%3A%2A"><code>https://api.census.gov/data/2019/acs/acs5/profile?get=DP02_0068PE%2CDP02_0068PM%2CNAME&amp;for=metropolitan%20statistical%20area%2Fmicropolitan%20statistical%20area%3A%2A</code></a> can be copy-pasted into a web browser where users can see the raw JSON returned by the Census API and inspect the results.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode json"><code class="sourceCode json"><span id="cb50-1"><a href="an-introduction-to-tidycensus.html#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="ot">[[</span><span class="st">"DP02_0068PE"</span><span class="ot">,</span><span class="st">"DP02_0068PM"</span><span class="ot">,</span><span class="st">"NAME"</span><span class="ot">,</span><span class="st">"metropolitan statistical area/micropolitan statistical area"</span><span class="ot">],</span></span>
<span id="cb50-2"><a href="an-introduction-to-tidycensus.html#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="ot">[</span><span class="st">"15.7"</span><span class="ot">,</span><span class="st">"1.5"</span><span class="ot">,</span><span class="st">"Big Stone Gap, VA Micro Area"</span><span class="ot">,</span><span class="st">"13720"</span><span class="ot">],</span></span>
<span id="cb50-3"><a href="an-introduction-to-tidycensus.html#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="ot">[</span><span class="st">"31.6"</span><span class="ot">,</span><span class="st">"1.0"</span><span class="ot">,</span><span class="st">"Billings, MT Metro Area"</span><span class="ot">,</span><span class="st">"13740"</span><span class="ot">],</span></span>
<span id="cb50-4"><a href="an-introduction-to-tidycensus.html#cb50-4" aria-hidden="true" tabindex="-1"></a><span class="ot">[</span><span class="st">"27.9"</span><span class="ot">,</span><span class="st">"0.7"</span><span class="ot">,</span><span class="st">"Binghamton, NY Metro Area"</span><span class="ot">,</span><span class="st">"13780"</span><span class="ot">],</span></span>
<span id="cb50-5"><a href="an-introduction-to-tidycensus.html#cb50-5" aria-hidden="true" tabindex="-1"></a><span class="ot">[</span><span class="st">"31.4"</span><span class="ot">,</span><span class="st">"0.4"</span><span class="ot">,</span><span class="st">"Birmingham-Hoover, AL Metro Area"</span><span class="ot">,</span><span class="st">"13820"</span><span class="ot">],</span></span>
<span id="cb50-6"><a href="an-introduction-to-tidycensus.html#cb50-6" aria-hidden="true" tabindex="-1"></a><span class="ot">[</span><span class="st">"33.3"</span><span class="ot">,</span><span class="st">"1.0"</span><span class="ot">,</span><span class="st">"Bismarck, ND Metro Area"</span><span class="ot">,</span><span class="st">"13900"</span><span class="ot">],</span></span>
<span id="cb50-7"><a href="an-introduction-to-tidycensus.html#cb50-7" aria-hidden="true" tabindex="-1"></a><span class="ot">[</span><span class="st">"21.2"</span><span class="ot">,</span><span class="st">"2.0"</span><span class="ot">,</span><span class="st">"Blackfoot, ID Micro Area"</span><span class="ot">,</span><span class="st">"13940"</span><span class="ot">],</span></span>
<span id="cb50-8"><a href="an-introduction-to-tidycensus.html#cb50-8" aria-hidden="true" tabindex="-1"></a><span class="ot">[</span><span class="st">"35.2"</span><span class="ot">,</span><span class="st">"1.1"</span><span class="ot">,</span><span class="st">"Blacksburg-Christiansburg, VA Metro Area"</span><span class="ot">,</span><span class="st">"13980"</span><span class="ot">],</span></span>
<span id="cb50-9"><a href="an-introduction-to-tidycensus.html#cb50-9" aria-hidden="true" tabindex="-1"></a><span class="ot">[</span><span class="st">"44.8"</span><span class="ot">,</span><span class="st">"1.1"</span><span class="ot">,</span><span class="st">"Bloomington, IL Metro Area"</span><span class="ot">,</span><span class="st">"14010"</span><span class="ot">],</span></span>
<span id="cb50-10"><a href="an-introduction-to-tidycensus.html#cb50-10" aria-hidden="true" tabindex="-1"></a><span class="ot">[</span><span class="st">"40.8"</span><span class="ot">,</span><span class="st">"1.2"</span><span class="ot">,</span><span class="st">"Bloomington, IN Metro Area"</span><span class="ot">,</span><span class="st">"14020"</span><span class="ot">],</span></span>
<span id="cb50-11"><a href="an-introduction-to-tidycensus.html#cb50-11" aria-hidden="true" tabindex="-1"></a><span class="ot">[</span><span class="st">"24.9"</span><span class="ot">,</span><span class="st">"1.0"</span><span class="ot">,</span><span class="st">"Bloomsburg-Berwick, PA Metro Area"</span><span class="ot">,</span><span class="st">"14100"</span><span class="ot">],</span></span>
<span id="cb50-12"><a href="an-introduction-to-tidycensus.html#cb50-12" aria-hidden="true" tabindex="-1"></a><span class="er">...</span></span></code></pre></div>
</div>
<div id="exercises" class="section level2" number="2.7">
<h2>
<span class="header-section-number">2.7</span> Exercises<a class="anchor" aria-label="anchor" href="#exercises"><i class="fas fa-link"></i></a>
</h2>
<ol style="list-style-type: decimal">
<li><p>Review the available geographies in tidycensus from the geography table in this chapter. Acquire data on median age (variable <code>B01002_001</code>) for a geography we have not yet used.</p></li>
<li><p>Use the <code><a href="https://walker-data.com/tidycensus/reference/load_variables.html">load_variables()</a></code> function to find a variable that interests you that we haven’t used yet. Use <code><a href="https://walker-data.com/tidycensus/reference/get_acs.html">get_acs()</a></code> to fetch data from the 2015-2019 ACS for counties in the state where you live, where you have visited, or where you would like to visit.</p></li>
</ol>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="the-united-states-census-and-the-r-programming-language.html"><span class="header-section-number">1</span> The United States Census and the R programming language</a></div>
<div class="next"><a href="wrangling-census-data-with-tidyverse-tools.html"><span class="header-section-number">3</span> Wrangling Census data with tidyverse tools</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#an-introduction-to-tidycensus"><span class="header-section-number">2</span> An introduction to tidycensus</a></li>
<li>
<a class="nav-link" href="#getting-started-with-tidycensus"><span class="header-section-number">2.1</span> Getting started with tidycensus</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#decennial-census"><span class="header-section-number">2.1.1</span> Decennial Census</a></li>
<li><a class="nav-link" href="#american-community-survey"><span class="header-section-number">2.1.2</span> American Community Survey</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#geography-and-variables-in-tidycensus"><span class="header-section-number">2.2</span> Geography and variables in tidycensus</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#geographic-subsets"><span class="header-section-number">2.2.1</span> Geographic subsets</a></li></ul>
</li>
<li><a class="nav-link" href="#searching-for-variables-in-tidycensus"><span class="header-section-number">2.3</span> Searching for variables in tidycensus</a></li>
<li>
<a class="nav-link" href="#data-structure-in-tidycensus"><span class="header-section-number">2.4</span> Data structure in tidycensus</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#renaming-variable-ids"><span class="header-section-number">2.4.1</span> Renaming variable IDs</a></li></ul>
</li>
<li>
<a class="nav-link" href="#other-census-bureau-datasets-in-tidycensus"><span class="header-section-number">2.5</span> Other Census Bureau datasets in tidycensus</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#using-get_estimates"><span class="header-section-number">2.5.1</span> Using get_estimates()</a></li>
<li><a class="nav-link" href="#using-get_flows"><span class="header-section-number">2.5.2</span> Using get_flows()</a></li>
</ul>
</li>
<li><a class="nav-link" href="#debugging-tidycensus-errors"><span class="header-section-number">2.6</span> Debugging tidycensus errors</a></li>
<li><a class="nav-link" href="#exercises"><span class="header-section-number">2.7</span> Exercises</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Analyzing US Census Data</strong>: Methods, Maps, and Models in R" was written by Kyle E. Walker. It was last built on 2021-09-27.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
